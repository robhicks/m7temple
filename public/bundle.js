(function (exports,incrementalDom) {
'use strict';

var CallStack = function CallStack(router, extendObj) {
  var this$1 = this;

  this.stack = CallStack.global.slice(0);
  this.router = router;
  this.runCallback = true;
  this.callbackRan = false;
  this.propagateEvent = true;
  this.value = router.path();

  for (var key in extendObj) {
    this$1[key] = extendObj[key];
  }
  return this;
};
/**
 * Prevent a callback from being called
 *
 * @return {this} CallStack
 */
CallStack.prototype.preventDefault = function preventDefault() {
  this.runCallback = false;
};
/**
 * Prevent any future callbacks from being called
 *
 * @return {self} CallStack
 */
CallStack.prototype.stopPropagation = function stopPropagation() {
  this.propagateEvent = false;
};
/**
 * Get parent state
 *
 * @return {Object} Previous state
 */
CallStack.prototype.parent = function parent() {
  var hasParentEvents = !!(this.previousState && this.previousState.value && this.previousState.value == this.value);
  return hasParentEvents ? this.previousState : false;
};
/**
 * Run a callback (calls to next)
 *
 * @return {self} CallStack
 */
CallStack.prototype.callback = function callback() {
  this.callbackRan = true;
  this.timeStamp = Date.now();
  this.next();
};
/**
 * Add handler or middleware to the stack
 *
 * @param {Function|Array} Handler or a array of handlers
 * @param {Int} Index to start inserting
 * @return {self} CallStack
 */
CallStack.prototype.enqueue = function enqueue(handler, atIndex) {
  var this$1 = this;

  var handlers = !Array.isArray(handler) ? [handler] : atIndex < handler.length ? handler.reverse() : handler;

  while (handlers.length) {
    this$1.stack.splice(atIndex || this$1.stack.length + 1, 0, handlers.shift());
  }

  return this;
};
/**
 * Call to next item in stack -- this adds the `req`, `event`, and `next()` arguments to all middleware
 *
 * @return {self} CallStack
 */
CallStack.prototype.next = function next() {
  var this$1 = this;

  // console.log("next():this.stack", this.stack)
  return this.stack.shift().call(this.router, this.req, this, function () {
    this$1.next.call(this$1);
  });
};

CallStack.global = [];

var regexRoute = function regexRoute(path, keys, sensitive, strict) {

  if (path instanceof RegExp) {
    return path;
  }
  if (path instanceof Array) {
    path = '(' + path.join('|') + ')';
  }
  // Build route RegExp
  path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
    keys.push({
      name: key,
      optional: !!optional
    });
    slash = slash || '';

    return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
  }).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

  return new RegExp('^' + path + '$', sensitive ? '' : 'i');
};

var Request = function Request(route) {
  this.route = route;
  this.keys = [];
  this.regex = regexRoute(route, this.keys);
  return this;
};
/**
 * Match a path string -- returns a request object if there is a match -- returns false otherwise
 *
 * @return {Object} req
 */
Request.prototype.parse = function parse(path) {
  var match = path.match(this.regex);

  var req = {
    params: {},
    keys: this.keys,
    matches: (match || []).slice(1),
    match: match
  };
  // Build parameters
  req.matches.forEach(function (value, i) {
    if (self.keys) {
      var key = self.keys[i] && self.keys[i].name ? self.keys[i].name : i;
      // Parameter key will be its key or the iteration index. This is useful if a wildcard (*) is matched
      req.params[key] = value ? decodeURIComponent(value) : undefined;
    }
  });

  return req;
};

/****
 * Released under MIT License. See LICENSE.txt or http://opensource.org/licenses/MIT
 *
 * This is a port of Grapnel to es2015 and with it limited to the browser.
 *
 * https://github.com/baseprime/grapnel
 */
var Router = function Router(options) {
  var this$1 = this;
  if (options === void 0) options = {};

  this.events = {}; // Event Listeners
  this.state = null; // Router state object
  this.options = options; // Options
  this.version = '1.0.2';

  window.addEventListener('popstate', function (e) {
    if (this$1.state && this$1.state.previousState === null) {
      return false;
    }
    this$1.trigger('navigate');
  });
  return this;
};

Router.prototype.addComponentAnchorEventListeners = function addComponentAnchorEventListeners(componentDom) {
  var this$1 = this;

  var anchors = componentDom.querySelectorAll('a');
  anchors.forEach(function (link) {
    link.addEventListener('click', function (e) {
      this$1.navigate(link.getAttribute('href'));
      e.preventDefault();
    });
  });
};

/**
 * Add an route and handler
 *
 * @param {String|RegExp} route name
 * @return {this} Router
 */
Router.prototype.add = function add(route) {
  var this$1 = this;

  var middleware = Array.prototype.slice.call(arguments, 1, -1);
  var handler = Array.prototype.slice.call(arguments, -1)[0];
  var request = new Request(route);
  var eventName = 'navigate';

  // console.log("this", this)

  var invoke = function invoke() {
    // console.log("this", this)
    // Build request parameters
    var req = request.parse(this$1.path());
    // Check if matches are found
    if (req.match) {
      // Match found
      var extra = {
        route: route,
        params: req.params,
        req: req,
        regex: req.match
      };
      // Create call stack -- add middleware first, then handler
      var stack = new CallStack(this$1, extra).enqueue(middleware.concat(handler));
      // Trigger main event
      this$1.trigger('match', stack, req);
      // Continue?
      if (!stack.runCallback) {
        return this$1;
      }
      // Previous state becomes current state
      stack.previousState = this$1.state;
      // Save new state
      this$1.state = stack;
      // Prevent this handler from being called if parent handler in stack has instructed not to propagate any more events
      if (stack.parent() && stack.parent().propagateEvent === false) {
        stack.propagateEvent = false;
        return this$1;
      }
      // Call handler
      stack.callback();
    }
    // console.log("this", this)
    // Returns this
    return this$1;
  };

  return invoke().on(eventName, invoke);
};
/**
 * Fire an event listener
 *
 * @param {String} event name
 * @param {Mixed} [attributes] Parameters that will be applied to event handler
 * @return {self} Router
 */
Router.prototype.trigger = function trigger(event) {
  var this$1 = this;

  var params = Array.prototype.slice.call(arguments, 1);
  // Call matching events
  if (this.events[event]) {
    this.events[event].forEach(function (fn) {
      fn.apply(this$1, params);
    });
  }
  return this;
};
/**
 * Add an event listener
 *
 * @param {String} event name (multiple events can be called when separated by a space " ")
 * @param {Function} callback
 * @return {this} Router
 */
Router.prototype.on = function on(event, handler) {
  var this$1 = this;

  var events = event.split(' ');
  events.forEach(function (event) {
    if (this$1.events[event]) {
      this$1.events[event].push(handler);
    } else {
      this$1.events[event] = [handler];
    }
  });
  return this;
};
/**
 * Allow event to be called only once
 *
 * @param {String} event name(s)
 * @param {Function} callback
 * @return {self} Router
 */
Router.prototype.once = function once(event, handler) {
  var arguments$1 = arguments;
  var this$1 = this;

  var ran = false;
  return this.on(event, function () {
    if (ran) {
      return false;
    }
    ran = true;
    handler.apply(this$1, arguments$1);
    handler = null;
    return true;
  });
};
/**
 * @param {String} Route context (without trailing slash)
 * @param {[Function]} Middleware (optional)
 * @return {Function} Adds route to context
 */
Router.prototype.context = function context(context$1) {
  var arguments$1 = arguments;
  var this$1 = this;

  var middleware = Array.prototype.slice.call(arguments, 1);

  return function () {
    var value = arguments$1[0];
    var submiddleware = arguments$1.length > 2 ? Array.prototype.slice.call(arguments$1, 1, -1) : [];
    var handler = Array.prototype.slice.call(arguments$1, -1)[0];
    var prefix = context$1.slice(-1) !== '/' && value !== '/' && value !== '' ? context$1 + '/' : context$1;
    var path = value.substr(0, 1) !== '/' ? value : value.substr(1);
    var pattern = prefix + path;

    return this$1.add.apply(this$1, [pattern].concat(middleware).concat(submiddleware).concat([handler]));
  };
};
/**
 * Navigate through history API
 *
 * @param {String} Pathname
 * @return {self} Router
 */
Router.prototype.navigate = function navigate(path) {
  return this.path(path).trigger('navigate');
};

Router.prototype.path = function path(pathname) {
  var frag;

  if ('string' === typeof pathname) {
    frag = this.options.root ? this.options.root + pathname : pathname;
    window.history.pushState({}, null, frag);
    return this;
  } else if ('undefined' === typeof pathname) {
    // Get path
    frag = window.location.pathname.replace(this.options.root, '');
    return frag;
  } else if (pathname === false) {
    window.history.pushState({}, null, this.options.root || '/');
    return this;
  }
};

/**
 * Create a RegExp Route from a string
 * This is the heart of the router and I've made it as small as possible!
 *
 * @param {String} Path of route
 * @param {Array} Array of keys to fill
 * @param {Bool} Case sensitive comparison
 * @param {Bool} Strict mode
 */
Router.regexRoute = function regexRoute$1(path, keys, sensitive, strict) {
  return regexRoute(path, keys, sensitive, strict);
};

Router.listen = function listen(opts, routes) {
  var this$1 = this;
  if (opts === void 0) opts = {};
  if (routes === void 0) routes = {};

  return function () {
    for (var key in routes) {
      this$1.add.call(this$1, key, routes[key]);
    }
    return this$1;
  }.call(new Grapnel(opts));
};

Router.CallStack = CallStack;
Router.Request = Request;

var hoisted1 = ["class", "button primary", "href", "/login"];
function render(ctrl) {
  incrementalDom.elementOpen("h1");
  incrementalDom.text("Manila 7th Ward Temple and Family History Skills Development Site");
  incrementalDom.elementClose("h1");
  incrementalDom.elementOpen("h3");
  incrementalDom.text("Access to this site requires user login");
  incrementalDom.elementClose("h3");
  incrementalDom.elementOpen("a", "e2f67c1c-9cbe-4a8e-b756-1b96b397fd11", hoisted1);
  incrementalDom.text("Please Login");
  incrementalDom.elementClose("a");
}

var css = ":host {\n  font-size: 1.5em;\n  line-height: 1.6;\n  font-weight: 400;\n  font-family: 'Roboto', Helvetica, sans-serif;\n  color: #222;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin-top: 0;\n  margin-bottom: 2rem;\n  font-weight: 300;\n}\nh1 {\n  font-size: 4.0rem;\n  line-height: 1.2;\n  letter-spacing: -0.1rem;\n}\nh2 {\n  font-size: 3.6rem;\n  line-height: 1.25;\n  letter-spacing: -0.1rem;\n}\nh3 {\n  font-size: 3.0rem;\n  line-height: 1.3;\n  letter-spacing: -0.1rem;\n}\nh4 {\n  font-size: 2.4rem;\n  line-height: 1.35;\n  letter-spacing: -0.08rem;\n}\nh5 {\n  font-size: 1.8rem;\n  line-height: 1.5;\n  letter-spacing: -0.05rem;\n}\nh6 {\n  font-size: 1.5rem;\n  line-height: 1.6;\n  letter-spacing: 0;\n}\n/* Larger than phablet */\n@media (min-width: 550px) {\n  h1 {\n    font-size: 5.0rem;\n  }\n  h2 {\n    font-size: 4.2rem;\n  }\n  h3 {\n    font-size: 3.6rem;\n  }\n  h4 {\n    font-size: 3.0rem;\n  }\n  h5 {\n    font-size: 2.4rem;\n  }\n  h6 {\n    font-size: 1.5rem;\n  }\n}\np {\n  margin-top: 0;\n}\na {\n  color: #f26100;\n}\na:hover {\n  color: #f26100;\n}\n.grid {\n  display: flex;\n}\n.col {\n  flex: 1;\n}\n@media (max-width: 500px) {\n  .grid {\n    display: block;\n  }\n}\n.button,\nbutton,\ninput[type=\"submit\"],\ninput[type=\"reset\"],\ninput[type=\"button\"] {\n  display: inline-block;\n  height: 38px;\n  padding: 0 30px;\n  color: #555;\n  text-align: center;\n  font-size: 11px;\n  font-weight: 600;\n  line-height: 38px;\n  letter-spacing: .1rem;\n  text-transform: uppercase;\n  text-decoration: none;\n  white-space: nowrap;\n  background-color: transparent;\n  border: 1px solid #bbb;\n  cursor: pointer;\n  box-sizing: border-box;\n}\n.button:hover,\nbutton:hover,\ninput[type=\"submit\"]:hover,\ninput[type=\"reset\"]:hover,\ninput[type=\"button\"]:hover,\n.button:focus,\nbutton:focus,\ninput[type=\"submit\"]:focus,\ninput[type=\"reset\"]:focus,\ninput[type=\"button\"]:focus {\n  color: #333;\n  border-color: #888;\n  outline: 0;\n}\n.button.primary,\nbutton.primary,\ninput[type=\"submit\"].primary,\ninput[type=\"reset\"].primary,\ninput[type=\"button\"].primary {\n  color: #FFF;\n  background-color: #33C3F0;\n  border-color: #33C3F0;\n}\n.button.primary:hover,\nbutton.primary:hover,\ninput[type=\"submit\"].primary:hover,\ninput[type=\"reset\"].primary:hover,\ninput[type=\"button\"].primary:hover,\n.button.primary:focus,\nbutton.primary:focus,\ninput[type=\"submit\"].primary:focus,\ninput[type=\"reset\"].primary:focus,\ninput[type=\"button\"].primary:focus {\n  color: #FFF;\n  background-color: #1EAEDB;\n  border-color: #1EAEDB;\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  background: url('/img/background.svg');\n  background-size: cover;\n  background-color: #0f76a1;\n}\nsection {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n}\nsection h1 {\n  text-align: center;\n  color: white;\n  font: bold 1.5em museo, sans-serif;\n}\nsection h3 {\n  font-size: 32px;\n  color: white;\n}\nsection a {\n  font-size: 1em !important;\n}\n";

var socket = socketCluster.connect();
var outgoingDbChannel = socket.subscribe('toServerDbChannel');
var incomingDbChannel = socket.subscribe('fromServerDbChannel');

outgoingDbChannel.waitForAuth = true;

var idbAdapter = new LokiIndexedAdapter('loki');
var db = new loki('m7temple.db', {
  autosave: true,
  autosaveInterval: 10000, // 10 seconds
  adapter: idbAdapter,
  disableChangesApi: false
});

socket.on('connect', function () {
  socket.emit('loadDatabase', function (err) {
    return console.log("err", err);
  });
});

socket.on('loadDatabase', function (data, err) {
  if (data) db.loadJSON(data);
  console.log("db loaded", db);
});

db.on('changes', function () {
  var changes = db.serializeChanges();
  console.log("client:::changes", changes);
  if (changes) outgoingDbChannel.publish(changes, function (err) {
    if (!err) db.clearChanges();
  });
});

incomingDbChannel.watch(function (data) {
  var changes = JSON.parse(data);
  console.log("dbSyncFromServerChannel:::changes", changes);
});

var css$1 = ":host {\n  font-size: 1.5em;\n  line-height: 1.6;\n  font-weight: 400;\n  font-family: 'Roboto', Helvetica, sans-serif;\n  color: #222;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin-top: 0;\n  margin-bottom: 2rem;\n  font-weight: 300;\n}\nh1 {\n  font-size: 4.0rem;\n  line-height: 1.2;\n  letter-spacing: -0.1rem;\n}\nh2 {\n  font-size: 3.6rem;\n  line-height: 1.25;\n  letter-spacing: -0.1rem;\n}\nh3 {\n  font-size: 3.0rem;\n  line-height: 1.3;\n  letter-spacing: -0.1rem;\n}\nh4 {\n  font-size: 2.4rem;\n  line-height: 1.35;\n  letter-spacing: -0.08rem;\n}\nh5 {\n  font-size: 1.8rem;\n  line-height: 1.5;\n  letter-spacing: -0.05rem;\n}\nh6 {\n  font-size: 1.5rem;\n  line-height: 1.6;\n  letter-spacing: 0;\n}\n/* Larger than phablet */\n@media (min-width: 550px) {\n  h1 {\n    font-size: 5.0rem;\n  }\n  h2 {\n    font-size: 4.2rem;\n  }\n  h3 {\n    font-size: 3.6rem;\n  }\n  h4 {\n    font-size: 3.0rem;\n  }\n  h5 {\n    font-size: 2.4rem;\n  }\n  h6 {\n    font-size: 1.5rem;\n  }\n}\np {\n  margin-top: 0;\n}\na {\n  color: #f26100;\n}\na:hover {\n  color: #f26100;\n}\n.button,\nbutton,\ninput[type=\"submit\"],\ninput[type=\"reset\"],\ninput[type=\"button\"] {\n  display: inline-block;\n  height: 38px;\n  padding: 0 30px;\n  color: #555;\n  text-align: center;\n  font-size: 11px;\n  font-weight: 600;\n  line-height: 38px;\n  letter-spacing: .1rem;\n  text-transform: uppercase;\n  text-decoration: none;\n  white-space: nowrap;\n  background-color: transparent;\n  border: 1px solid #bbb;\n  cursor: pointer;\n  box-sizing: border-box;\n}\n.button:hover,\nbutton:hover,\ninput[type=\"submit\"]:hover,\ninput[type=\"reset\"]:hover,\ninput[type=\"button\"]:hover,\n.button:focus,\nbutton:focus,\ninput[type=\"submit\"]:focus,\ninput[type=\"reset\"]:focus,\ninput[type=\"button\"]:focus {\n  color: #333;\n  border-color: #888;\n  outline: 0;\n}\n.button.primary,\nbutton.primary,\ninput[type=\"submit\"].primary,\ninput[type=\"reset\"].primary,\ninput[type=\"button\"].primary {\n  color: #FFF;\n  background-color: #33C3F0;\n  border-color: #33C3F0;\n}\n.button.primary:hover,\nbutton.primary:hover,\ninput[type=\"submit\"].primary:hover,\ninput[type=\"reset\"].primary:hover,\ninput[type=\"button\"].primary:hover,\n.button.primary:focus,\nbutton.primary:focus,\ninput[type=\"submit\"].primary:focus,\ninput[type=\"reset\"].primary:focus,\ninput[type=\"button\"].primary:focus {\n  color: #FFF;\n  background-color: #1EAEDB;\n  border-color: #1EAEDB;\n}\n:host {\n  display: block;\n  height: 100%;\n  width: 100%;\n}\n#modal-container {\n  height: 100%;\n  width: 100%;\n}\n#overlay {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: #2c2c2c;\n  opacity: 0.95;\n  transition: transform 0.3s, opacity 0.3s;\n  z-index: 9000;\n}\n#modal {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  width: 90%;\n  max-width: 600px;\n  z-index: 9001;\n}\n#content {\n  background: #ffffff;\n  opacity: 1;\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.35), 0px 3px 2px 0px rgba(0, 0, 0, 0.18);\n  margin: 0 auto;\n  position: relative;\n}\n#header {\n  padding: 2vh 2vw 0 2vw;\n}\n#header h4 {\n  font-size: 1em;\n  padding: 0;\n  margin: 0;\n}\n#body {\n  padding: 2vh 2vw;\n  max-height: 90vh;\n  font-size: 0.8em;\n}\n#buttons {\n  padding: 2vh 2vw;\n}\n#buttons button {\n  margin-right: 8px;\n  font-size: .5em;\n}\n";

var hoisted1$1 = ["id", "overlay"];
var hoisted2 = ["id", "modal"];
var hoisted3 = ["id", "content"];
var hoisted4 = ["id", "header"];
var hoisted5 = ["id", "body"];
var hoisted6 = ["id", "buttons"];
var hoisted7 = ["type", "button", "name", "primary", "class", "button primary"];
var hoisted8 = ["type", "button", "name", "cancel", "class", "button minor"];
function render$1(ctrl) {
  if (ctrl._show) {
    incrementalDom.elementOpen("div", "df634a6e-ae9d-4867-9815-fcffcaaf5f8b", hoisted1$1);
    incrementalDom.elementOpen("div", "c0244eda-4828-4810-9dee-4fd743a31baf", hoisted2);
    incrementalDom.elementOpen("div", "9688beca-2788-4a81-aa4c-68c9108371e3", hoisted3);
    incrementalDom.elementOpen("div", "075de124-c92e-4e74-b83e-2a6faadced45", hoisted4);
    incrementalDom.elementOpen("h4");
    incrementalDom.text("" + ctrl._heading + "");
    incrementalDom.elementClose("h4");
    incrementalDom.elementClose("div");
    incrementalDom.elementOpen("div", "b6132dc0-73bd-4480-9bdc-060854c8e0e6", hoisted5);
    incrementalDom.text("" + ctrl._body + "");
    incrementalDom.elementClose("div");
    incrementalDom.elementOpen("div", "18a7b5d3-f2ed-44b9-969e-5859264f431f", hoisted6);
    incrementalDom.elementOpen("button", "8c67f961-34cc-422c-a58a-7b58309288a3", hoisted7, "onclick", function ($event) {
      var $element = this;
      ctrl._clickButton('primary');
    });
    incrementalDom.text("" + ctrl._primary + "");
    incrementalDom.elementClose("button");
    if (ctrl._cancel) {
      incrementalDom.elementOpen("button", "89d250bf-e51f-4f3a-a41e-28a85bfa32b0", hoisted8, "onclick", function ($event) {
        var $element = this;
        ctrl._clickButton('cancel');
      });
      incrementalDom.text("" + ctrl._cancel + "");
      incrementalDom.elementClose("button");
    }
    incrementalDom.elementClose("div");
    incrementalDom.elementClose("div");
    incrementalDom.elementClose("div");
    incrementalDom.elementClose("div");
  }
}

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();









var inherits = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};











var possibleConstructorReturn = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
};

var RbhModal = function (_HTMLElement) {
  inherits(RbhModal, _HTMLElement);

  function RbhModal() {
    classCallCheck(this, RbhModal);

    var _this = possibleConstructorReturn(this, (RbhModal.__proto__ || Object.getPrototypeOf(RbhModal)).call(this));

    _this.attachShadow({ mode: 'open' });
    _this.shadowRoot.innerHTML = '<style>' + css$1 + '</style><container></container>';
    _this.element = _this.shadowRoot.querySelector('container');
    _this._heading = "";
    _this._body = "";
    _this._primary = "";
    _this._cancel = "";
    _this._show = true;
    return _this;
  }

  createClass(RbhModal, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {
      if (nVal && nVal !== '' && nVal !== oVal) {
        if (name === "heading" && nVal !== this._heading) this._heading = nVal;
        if (name === "body" && nVal !== this._body) this._body = nVal;
        if (name === "primary" && nVal !== this._primary) this._primary = nVal;
        if (name === "cancel" && nVal !== this._cancel) this._cancel = nVal;
        if (name === "show" && nVal !== this._show) this._show = nVal;
        this._updateView();
      }
    }
  }, {
    key: '_clickButton',
    value: function _clickButton(button) {
      document.dispatchEvent(new CustomEvent('rbhModalButtonClick', { detail: button }));
    }
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      this._updateView();
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: '_updateView',
    value: function _updateView() {
      if (this.element) incrementalDom.patch(this.element, render$1, this);
    }
  }, {
    key: 'heading',
    get: function get$$1() {
      return this._heading;
    },
    set: function set$$1(heading) {
      this._heading = heading;
      this.setAttribute("heading", heading);
    }
  }, {
    key: 'body',
    get: function get$$1() {
      return this._body;
    },
    set: function set$$1(body) {
      this._body = body;
      this.setAttribute("body", body);
    }
  }, {
    key: 'primary',
    get: function get$$1() {
      return this._primary;
    },
    set: function set$$1(primary) {
      this._primary = primary;
      this.setAttribute("primary", primary);
    }
  }, {
    key: 'cancel',
    get: function get$$1() {
      return this._cancel;
    },
    set: function set$$1(cancel) {
      this._cancel = cancel;
      this.setAttribute("cancel", cancel);
    }
  }, {
    key: 'show',
    get: function get$$1() {
      return this._show;
    },
    set: function set$$1(show) {
      this._show = show;
      this.setAttribute("show", show);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return ["heading", "body", "primary", "cancel", "show"];
    }
  }]);
  return RbhModal;
}(HTMLElement);

customElements.define('rbh-modal', RbhModal);

var user = {
  authenticated: false,
  initialized: false
};

hello.init({
  facebook: '571949036329751',
  github: 'eadbc2a3055a055d3e87',
  google: '114775485033-r2ngahga742gran257rt7s0cbag7n8hg.apps.googleusercontent.com',
  twitter: 'Aam3NrtcT0K8TjbgXdTOM8fQM'
}, {
  redirect_uri: 'http://localhost:5000/oauth2callback',
  scope: 'email'
});

hello.on('auth.login', function (auth) {
  // console.log("auth", auth)
  hello(auth.network).api('me').then(function (r) {
    console.log("r", r);
    user.initialized = true;
    user.displayName = r.displayName;
    user.id = r.id;
    user.firstName = r.first_name;
    user.lastName = r.last_name;
    user.email = r.email;
    socket.emit('auth', user);
  }, function (err) {
    var modal = new RbhModal();
    modal.heading = 'Authentication Provider Error';
    modal.body = err;
    modal.primary = 'OK';
    document.addEventListener('rbhModalButtonClick', function (evt) {
      modal.remove();
      router.navigate('/login');
    });
  });
});

user.logout = function () {
  hello.logout();
  router.navigate('/home');
};

var HomeView = function (_HTMLElement) {
  inherits(HomeView, _HTMLElement);

  function HomeView() {
    classCallCheck(this, HomeView);

    var _this = possibleConstructorReturn(this, (HomeView.__proto__ || Object.getPrototypeOf(HomeView)).call(this));

    _this.user = user;
    return _this;
  }

  createClass(HomeView, [{
    key: 'anchorClickHandler',
    value: function anchorClickHandler(evt) {
      if (evt.target.tagName !== 'A') return;
      router.navigate(evt.target.getAttribute('href'));
      evt.preventDefault();
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {}
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      this.attachShadow({ mode: 'open' });
      this.shadowRoot.innerHTML = '<style>' + css + '</style><section></section>';
      this.shadowRoot.addEventListener('click', this.anchorClickHandler.bind(this));
      this.element = this.shadowRoot.querySelector('section');
      this.updateView();

      document.addEventListener('userChanged', this.updateView);
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: 'updateView',
    value: function updateView() {
      // wrap in if. otherwise ff and safari fail
      if (this.element) incrementalDom.patch(this.element, render, this);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [];
    }
  }]);
  return HomeView;
}(HTMLElement);

customElements.define('home-view', HomeView);

var hoisted1$2 = ["id", "buttons"];
var hoisted2$1 = ["class", "provider"];
var hoisted3$1 = ["src", "/img/facebook.svg", "alt", ""];
var hoisted4$1 = ["class", "provider"];
var hoisted5$1 = ["src", "/img/github.svg", "alt", ""];
var hoisted6$1 = ["class", "provider"];
var hoisted7$1 = ["src", "/img/google.svg", "alt", ""];
var hoisted8$1 = ["class", "provider"];
var hoisted9 = ["src", "/img/twitter.svg", "alt", ""];
function render$2(ctrl) {
  incrementalDom.elementOpen("h1");
  incrementalDom.text("Manila 7th Ward Temple and Family History Skills Development Site");
  incrementalDom.elementClose("h1");
  incrementalDom.elementOpen("h3");
  incrementalDom.text("Select a Provider");
  incrementalDom.elementClose("h3");
  incrementalDom.elementOpen("div", "313219f1-1d4c-48df-947d-7f298c3e5092", hoisted1$2);
  incrementalDom.elementOpen("a", "31dd8f3d-106a-4fb0-ab76-9080914054f0", hoisted2$1, "onclick", function ($event) {
    var $element = this;
    ctrl.hello('facebook').login();
  });
  incrementalDom.elementOpen("img", "61f995ce-32f3-4600-b9d1-746f8067cf4b", hoisted3$1);
  incrementalDom.elementClose("img");
  incrementalDom.elementOpen("span");
  incrementalDom.text("Facebook");
  incrementalDom.elementClose("span");
  incrementalDom.elementClose("a");
  incrementalDom.elementOpen("a", "0b8ce378-b828-49e8-ab78-d3330f07893c", hoisted4$1, "onclick", function ($event) {
    var $element = this;
    ctrl.hello('github').login();
  });
  incrementalDom.elementOpen("img", "a040d07a-07dc-4d13-907c-3798cb5dc428", hoisted5$1);
  incrementalDom.elementClose("img");
  incrementalDom.elementOpen("span");
  incrementalDom.text("Github");
  incrementalDom.elementClose("span");
  incrementalDom.elementClose("a");
  incrementalDom.elementOpen("a", "58e63bac-9673-4626-9dab-94f4c56281a2", hoisted6$1, "onclick", function ($event) {
    var $element = this;
    ctrl.hello('google').login();
  });
  incrementalDom.elementOpen("img", "88025632-34fa-42f1-b9fd-ad517acdbec3", hoisted7$1);
  incrementalDom.elementClose("img");
  incrementalDom.elementOpen("span");
  incrementalDom.text("Google");
  incrementalDom.elementClose("span");
  incrementalDom.elementClose("a");
  incrementalDom.elementOpen("a", "76062234-7320-4138-9c62-8de0fda96b7c", hoisted8$1, "onclick", function ($event) {
    var $element = this;
    ctrl.hello('twitter').login();
  });
  incrementalDom.elementOpen("img", "b3c5883f-a227-4306-a41d-9adc8a3a25ac", hoisted9);
  incrementalDom.elementClose("img");
  incrementalDom.elementOpen("span");
  incrementalDom.text("Twitter");
  incrementalDom.elementClose("span");
  incrementalDom.elementClose("a");
  incrementalDom.elementClose("div");
}

var css$2 = ":host {\n  font-size: 1.5em;\n  line-height: 1.6;\n  font-weight: 400;\n  font-family: 'Roboto', Helvetica, sans-serif;\n  color: #222;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin-top: 0;\n  margin-bottom: 2rem;\n  font-weight: 300;\n}\nh1 {\n  font-size: 4.0rem;\n  line-height: 1.2;\n  letter-spacing: -0.1rem;\n}\nh2 {\n  font-size: 3.6rem;\n  line-height: 1.25;\n  letter-spacing: -0.1rem;\n}\nh3 {\n  font-size: 3.0rem;\n  line-height: 1.3;\n  letter-spacing: -0.1rem;\n}\nh4 {\n  font-size: 2.4rem;\n  line-height: 1.35;\n  letter-spacing: -0.08rem;\n}\nh5 {\n  font-size: 1.8rem;\n  line-height: 1.5;\n  letter-spacing: -0.05rem;\n}\nh6 {\n  font-size: 1.5rem;\n  line-height: 1.6;\n  letter-spacing: 0;\n}\n/* Larger than phablet */\n@media (min-width: 550px) {\n  h1 {\n    font-size: 5.0rem;\n  }\n  h2 {\n    font-size: 4.2rem;\n  }\n  h3 {\n    font-size: 3.6rem;\n  }\n  h4 {\n    font-size: 3.0rem;\n  }\n  h5 {\n    font-size: 2.4rem;\n  }\n  h6 {\n    font-size: 1.5rem;\n  }\n}\np {\n  margin-top: 0;\n}\na {\n  color: #f26100;\n}\na:hover {\n  color: #f26100;\n}\n.grid {\n  display: flex;\n}\n.col {\n  flex: 1;\n}\n@media (max-width: 500px) {\n  .grid {\n    display: block;\n  }\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  background: url('/img/background.svg');\n  background-size: cover;\n  background-color: #0f76a1;\n}\nsection {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\nsection h1,\nsection h3 {\n  color: white !important;\n}\nsection h1 {\n  font: bold 1.4em museo, sans-serif;\n  margin-bottom: 15px;\n}\nsection h3 {\n  font-size: 1.1em;\n}\n#buttons {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 50%;\n}\n#buttons a.provider {\n  display: flex;\n  height: 64px;\n  line-height: 64px;\n  width: 100%;\n  border: 1px solid #ccc;\n  background-color: white;\n  margin-bottom: 1vh;\n  padding: 1vh;\n  cursor: pointer;\n  text-decoration: none;\n  color: inherit;\n}\n#buttons a.provider img {\n  height: inherit;\n  width: 64px;\n  margin-right: 2vw;\n}\n@media (max-width: 1200px) {\n  #buttons {\n    width: 25%;\n  }\n}\n@media (max-width: 800px) {\n  section h1 {\n    font-size: 1.4em;\n  }\n  section h3 {\n    font-size: 1.1em !important;\n  }\n  section #buttons {\n    width: 75%;\n  }\n}\n";

var LoginView = function (_HTMLElement) {
  inherits(LoginView, _HTMLElement);

  function LoginView() {
    classCallCheck(this, LoginView);

    var _this = possibleConstructorReturn(this, (LoginView.__proto__ || Object.getPrototypeOf(LoginView)).call(this));

    _this.hello = hello;
    return _this;
  }

  createClass(LoginView, [{
    key: 'anchorClickHandler',
    value: function anchorClickHandler(evt) {
      if (evt.target.tagName !== 'A') return;
      router.navigate(evt.target.getAttribute('href'));
      evt.preventDefault();
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {}
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      this.attachShadow({ mode: 'open' });
      this.shadowRoot.innerHTML = '<style>' + css$2 + '</style><section></section>';
      // this.shadowRoot.addEventListener('click', this.anchorClickHandler.bind(this));
      this.element = this.shadowRoot.querySelector('section');

      this.updateView();
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: 'updateView',
    value: function updateView() {
      // wrap in if. otherwise ff and safari fail
      if (this.element) incrementalDom.patch(this.element, render$2, this);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [];
    }
  }]);
  return LoginView;
}(HTMLElement);

customElements.define('login-view', LoginView);

var hoisted1$3 = ["id", "brand", "href", "/home"];
var hoisted2$2 = ["src", "/img/favicon.svg", "alt", ""];
var hoisted3$2 = ["role", "navigation", "id", "navigation"];
var hoisted4$2 = ["href", "/help"];
var hoisted5$2 = ["href", "/admin"];
var hoisted6$2 = ["href", "/login"];
function render$3(ctrl) {
  incrementalDom.elementOpen("a", "184f2e88-5769-4ebf-99cb-7dc89b18b82a", hoisted1$3, "class", ctrl.stateContains('home'));
  incrementalDom.elementOpen("img", "f183d481-9c33-4abb-b673-5d1d08b2827d", hoisted2$2);
  incrementalDom.elementClose("img");
  incrementalDom.elementOpen("span");
  incrementalDom.text("Home");
  incrementalDom.elementClose("span");
  incrementalDom.elementClose("a");
  incrementalDom.elementOpen("nav", "30a24b8b-83a0-4741-8352-22c7c58e5950", hoisted3$2);
  incrementalDom.elementOpen("a", "0ed9e1f5-4b1b-4e18-a54e-a1102d31e3b5", hoisted4$2, "class", ctrl.stateContains('help'));
  incrementalDom.text("Help");
  incrementalDom.elementClose("a");
  if (ctrl.user.admin) {
    incrementalDom.elementOpen("a", "fa95b82b-ea83-412e-a031-c2e01cced340", hoisted5$2, "class", ctrl.stateContains('admin'));
    incrementalDom.text("Admin");
    incrementalDom.elementClose("a");
  }
  if (!ctrl.user.authenticated) {
    incrementalDom.elementOpen("a", "fa51dc17-71e7-4859-a65a-864ca01f6541", hoisted6$2, "class", ctrl.stateContains('login'));
    incrementalDom.text("Login");
    incrementalDom.elementClose("a");
  }
  if (ctrl.user.authenticated) {
    incrementalDom.elementOpen("a", null, null, "onclick", function ($event) {
      var $element = this;
      ctrl.go('/logout');
    }, "class", ctrl.stateContains('logout'));
    incrementalDom.text("Logout");
    incrementalDom.elementClose("a");
  }
  incrementalDom.elementClose("nav");
}

var css$3 = ":host {\n  font-size: 1.5em;\n  line-height: 1.6;\n  font-weight: 400;\n  font-family: 'Roboto', Helvetica, sans-serif;\n  color: #222;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin-top: 0;\n  margin-bottom: 2rem;\n  font-weight: 300;\n}\nh1 {\n  font-size: 4.0rem;\n  line-height: 1.2;\n  letter-spacing: -0.1rem;\n}\nh2 {\n  font-size: 3.6rem;\n  line-height: 1.25;\n  letter-spacing: -0.1rem;\n}\nh3 {\n  font-size: 3.0rem;\n  line-height: 1.3;\n  letter-spacing: -0.1rem;\n}\nh4 {\n  font-size: 2.4rem;\n  line-height: 1.35;\n  letter-spacing: -0.08rem;\n}\nh5 {\n  font-size: 1.8rem;\n  line-height: 1.5;\n  letter-spacing: -0.05rem;\n}\nh6 {\n  font-size: 1.5rem;\n  line-height: 1.6;\n  letter-spacing: 0;\n}\n/* Larger than phablet */\n@media (min-width: 550px) {\n  h1 {\n    font-size: 5.0rem;\n  }\n  h2 {\n    font-size: 4.2rem;\n  }\n  h3 {\n    font-size: 3.6rem;\n  }\n  h4 {\n    font-size: 3.0rem;\n  }\n  h5 {\n    font-size: 2.4rem;\n  }\n  h6 {\n    font-size: 1.5rem;\n  }\n}\np {\n  margin-top: 0;\n}\na {\n  color: #f26100;\n}\na:hover {\n  color: #f26100;\n}\n:host {\n  display: block;\n  height: 64px;\n  width: 100%;\n}\n#navbar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 64px;\n  border-bottom: 1px solid #ccc;\n  padding: 0 1em;\n}\n#navbar a {\n  text-decoration: none;\n  font-size: 0.9em;\n  cursor: pointer;\n}\n#navbar a.active {\n  border-bottom: 2px solid #f26100;\n}\n#navbar #brand img {\n  width: 36px;\n  height: 36px;\n}\n#navbar #brand span {\n  position: relative;\n  top: -5px;\n}\n#navbar nav {\n  display: flex;\n  align-items: flex-end;\n}\n#navbar nav a {\n  padding: 0 0.5em;\n}\n@media (max-width: 400px) {\n  #brand img {\n    width: 16px !important;\n    height: 16px !important;\n  }\n  a {\n    font-size: 0.4em !important;\n  }\n}\n@media (max-width: 500px) {\n  #brand img {\n    width: 32px !important;\n    height: 32px !important;\n  }\n  a {\n    font-size: 0.7em !important;\n  }\n}\n";

function contains(str, val) {
  return str.indexOf(val) !== -1;
}

var NavBar = function (_HTMLElement) {
  inherits(NavBar, _HTMLElement);

  function NavBar() {
    classCallCheck(this, NavBar);

    var _this = possibleConstructorReturn(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).call(this));

    _this.user = user;
    _this.state = 'home';

    setTimeout(function () {
      _this.state = router.state.value;
      router.on('navigate', function () {
        _this.state = router.state.value;
        _this.updateView();
      });
      _this.updateView();
    }, 500);
    return _this;
  }

  createClass(NavBar, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {}
  }, {
    key: 'collapseToggle',
    value: function collapseToggle() {
      var button = this.shadowRoot.querySelector('button');
      var nav = this.shadowRoot.querySelector('.list');
      button.classList.toggle('-active');
      button.classList.toggle('-on');
      nav.classList.toggle('-on');
    }
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      var _this2 = this;

      this.attachShadow({ mode: 'open' });
      this.shadowRoot.innerHTML = '<style>' + css$3 + '</style><div id="navbar"></div>';
      this.element = this.shadowRoot.querySelector('div#navbar');
      document.addEventListener('userChanged', this.userChanged.bind(this));
      this.updateView();
      setTimeout(function () {
        router.addComponentAnchorEventListeners(_this2.element);
      }, 10);
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {
      this.shadowRoot.removeEventListener('click', this.anchorClickHandler.bind(this));
      document.removeEventListener('userChanged', this.userChanged.bind(this));
    }
  }, {
    key: 'go',
    value: function go(path) {
      router.navigate(path);
    }
  }, {
    key: 'stateContains',
    value: function stateContains(val) {
      if (contains(this.state, val)) return 'active';
      return '';
    }
  }, {
    key: 'updateView',
    value: function updateView() {
      if (this.element) incrementalDom.patch(this.element, render$3, this);
    }
  }, {
    key: 'userChanged',
    value: function userChanged(evt) {
      console.log("this.user", this.user);
      this.updateView();
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [];
    }
  }]);
  return NavBar;
}(HTMLElement);

customElements.define('nav-bar', NavBar);

var hoisted1$4 = ["href", "/home", "class", "button primary"];
function render$4(ctrl) {
  incrementalDom.elementOpen("h1");
  incrementalDom.text("404");
  incrementalDom.elementClose("h1");
  incrementalDom.elementOpen("h2");
  incrementalDom.text("Page Not Found");
  incrementalDom.elementClose("h2");
  incrementalDom.elementOpen("a", "18e98987-fbbc-483c-8acc-06204a34bafc", hoisted1$4);
  incrementalDom.text("Home");
  incrementalDom.elementClose("a");
}

var css$4 = ":host {\n  font-size: 1.5em;\n  line-height: 1.6;\n  font-weight: 400;\n  font-family: 'Roboto', Helvetica, sans-serif;\n  color: #222;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin-top: 0;\n  margin-bottom: 2rem;\n  font-weight: 300;\n}\nh1 {\n  font-size: 4.0rem;\n  line-height: 1.2;\n  letter-spacing: -0.1rem;\n}\nh2 {\n  font-size: 3.6rem;\n  line-height: 1.25;\n  letter-spacing: -0.1rem;\n}\nh3 {\n  font-size: 3.0rem;\n  line-height: 1.3;\n  letter-spacing: -0.1rem;\n}\nh4 {\n  font-size: 2.4rem;\n  line-height: 1.35;\n  letter-spacing: -0.08rem;\n}\nh5 {\n  font-size: 1.8rem;\n  line-height: 1.5;\n  letter-spacing: -0.05rem;\n}\nh6 {\n  font-size: 1.5rem;\n  line-height: 1.6;\n  letter-spacing: 0;\n}\n/* Larger than phablet */\n@media (min-width: 550px) {\n  h1 {\n    font-size: 5.0rem;\n  }\n  h2 {\n    font-size: 4.2rem;\n  }\n  h3 {\n    font-size: 3.6rem;\n  }\n  h4 {\n    font-size: 3.0rem;\n  }\n  h5 {\n    font-size: 2.4rem;\n  }\n  h6 {\n    font-size: 1.5rem;\n  }\n}\np {\n  margin-top: 0;\n}\na {\n  color: #f26100;\n}\na:hover {\n  color: #f26100;\n}\n.button,\nbutton,\ninput[type=\"submit\"],\ninput[type=\"reset\"],\ninput[type=\"button\"] {\n  display: inline-block;\n  height: 38px;\n  padding: 0 30px;\n  color: #555;\n  text-align: center;\n  font-size: 11px;\n  font-weight: 600;\n  line-height: 38px;\n  letter-spacing: .1rem;\n  text-transform: uppercase;\n  text-decoration: none;\n  white-space: nowrap;\n  background-color: transparent;\n  border: 1px solid #bbb;\n  cursor: pointer;\n  box-sizing: border-box;\n}\n.button:hover,\nbutton:hover,\ninput[type=\"submit\"]:hover,\ninput[type=\"reset\"]:hover,\ninput[type=\"button\"]:hover,\n.button:focus,\nbutton:focus,\ninput[type=\"submit\"]:focus,\ninput[type=\"reset\"]:focus,\ninput[type=\"button\"]:focus {\n  color: #333;\n  border-color: #888;\n  outline: 0;\n}\n.button.primary,\nbutton.primary,\ninput[type=\"submit\"].primary,\ninput[type=\"reset\"].primary,\ninput[type=\"button\"].primary {\n  color: #FFF;\n  background-color: #33C3F0;\n  border-color: #33C3F0;\n}\n.button.primary:hover,\nbutton.primary:hover,\ninput[type=\"submit\"].primary:hover,\ninput[type=\"reset\"].primary:hover,\ninput[type=\"button\"].primary:hover,\n.button.primary:focus,\nbutton.primary:focus,\ninput[type=\"submit\"].primary:focus,\ninput[type=\"reset\"].primary:focus,\ninput[type=\"button\"].primary:focus {\n  color: #FFF;\n  background-color: #1EAEDB;\n  border-color: #1EAEDB;\n}\n:host {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: url('/img/background.svg');\n  background-size: cover;\n  background-color: #0f76a1;\n}\n:host #not-found {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n:host #not-found h1 {\n  font-size: 5em;\n  color: white;\n}\n:host #not-found h2 {\n  font-size: 2em;\n  color: white;\n}\n:host a {\n  font-size: 1em !important;\n}\n";

var NotFound = function (_HTMLElement) {
  inherits(NotFound, _HTMLElement);

  function NotFound() {
    classCallCheck(this, NotFound);
    return possibleConstructorReturn(this, (NotFound.__proto__ || Object.getPrototypeOf(NotFound)).call(this));
  }

  createClass(NotFound, [{
    key: 'anchorClickHandler',
    value: function anchorClickHandler(evt) {
      console.log(evt);
      if (evt.target.tagName !== 'A') return;
      evt.preventDefault();
      router.navigate(evt.target.getAttribute('href'));
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {}
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      this.attachShadow({ mode: 'open' });
      this.shadowRoot.innerHTML = '<style>' + css$4 + '</style><div id="not-found"></div>';
      this.shadowRoot.addEventListener('click', this.anchorClickHandler.bind(this));
      this.element = this.shadowRoot.querySelector('div#not-found');
      this.updateView();
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: 'updateView',
    value: function updateView() {
      // wrap in if. otherwise ff and safari fail
      if (this.element) incrementalDom.patch(this.element, render$4, this);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [];
    }
  }]);
  return NotFound;
}(HTMLElement);

customElements.define('not-found', NotFound);

var hoisted1$5 = ["id", "search"];
var hoisted2$3 = ["type", "text", "name", "search", "placeholder", "Search ..."];
var hoisted3$3 = ["for", "mine-checkbox", "id", "mine-wrapper"];
var hoisted4$3 = ["type", "checkbox", "id", "mine-checkbox"];
var hoisted5$3 = ["id", "skills"];
var hoisted6$3 = ["class", "item"];
var hoisted7$2 = ["shared", "", "collapsed", "true"];
var __target$5;

function render$5(ctrl) {
  incrementalDom.elementOpen("section", "df64aeb9-4743-4640-89ab-e2a7f2e2ff1f", hoisted1$5);
  incrementalDom.elementOpen("input", "96b56b09-1e1d-4fe3-8b31-26faf3ce0a57", hoisted2$3, "onkeyup", function ($event) {
    var $element = this;
    ctrl.filterSkills(this.value);
  });
  incrementalDom.elementClose("input");
  incrementalDom.elementOpen("label", "20349736-1887-45fe-a088-d28b1e840c1a", hoisted3$3);
  incrementalDom.elementOpen("input", "5fd6fc9b-8cc5-4b34-9d37-d473e1ff6bd0", hoisted4$3, "onchange", function ($event) {
    var $element = this;
    ctrl.toggleMine();
  });
  incrementalDom.elementClose("input");
  incrementalDom.elementOpen("span");
  incrementalDom.text("My Skills (" + ctrl.mySkills.length + ")");
  incrementalDom.elementClose("span");
  incrementalDom.elementClose("label");
  incrementalDom.elementClose("section");
  incrementalDom.elementOpen("section", "783cedc4-2bc3-4ec6-8233-c1ec65ba5f8e", hoisted5$3);
  __target$5 = ctrl.viewSkills;
  if (__target$5) {
    (__target$5.forEach ? __target$5 : Object.keys(__target$5)).forEach(function ($value, $item, $target) {
      var item = $value;
      var $key = "30810aad-9e53-42c4-8ddd-5b06e307f048_" + $item;
      incrementalDom.elementOpen("div", $key, hoisted6$3);
      incrementalDom.elementOpen("collapsable-panel", "97b5c434-161d-4666-8227-5436d8ce2c29_" + $key, hoisted7$2, "class", $item % 2 ? 'odd' : 'even', "earned", item.earned, "pending", item.pending, "added", item.added, "heading", item.title, "iid", item.id, "description", item.description, "html", item.html, "achievements", item.achievements);
      incrementalDom.elementClose("collapsable-panel");
      incrementalDom.elementClose("div");
    }, this);
  }
  incrementalDom.elementClose("section");
}

var css$5 = ":host {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n}\n#home {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  height: 98%;\n}\nsection#search {\n  display: flex;\n  margin: 2vw 2vh 0;\n  height: 36px;\n}\nsection#search input {\n  flex-grow: 1;\n  width: inherit;\n  height: 36px;\n  font-size: 1em;\n  padding-left: 2vw;\n}\nsection#skills {\n  display: flex;\n  flex-direction: column;\n  flex: 6;\n  margin: 2vw 2vh 0;\n  background-color: #ffffff;\n  padding: 2vw 2vh;\n  overflow-y: auto;\n}\n#mine-wrapper {\n  display: flex;\n  background-color: #ffffff;\n  align-items: center;\n  height: 42px;\n  padding: 0 1vw;\n  margin-left: 1vw;\n}\n#mine-wrapper #mine-checkbox {\n  margin-right: 1vw;\n}\ncollapsable-panel {\n  display: block;\n  width: 100%;\n  height: auto;\n}\ncollapsable-panel.odd {\n  background-color: rgba(98, 171, 239, 0.15);\n}\n";

var hoisted1$6 = ["class", "panel"];
var hoisted2$4 = ["class", "heading"];
var hoisted3$4 = ["class", "title"];
var hoisted4$4 = ["class", "button-group"];
var hoisted5$4 = ["type", "button", "name", "add"];
var hoisted6$4 = ["src", "/img/add.svg", "alt", ""];
var hoisted7$3 = ["type", "button", "name", "apply"];
var hoisted8$2 = ["src", "/img/skill-apply.svg", "alt", ""];
var hoisted9$1 = ["type", "button", "name", "earned"];
var hoisted10 = ["src", "/img/skill-earned.svg", "alt", ""];
var hoisted11 = ["type", "button", "name", "pending"];
var hoisted12 = ["src", "/img/skill-pending.svg", "alt", ""];
var hoisted13 = ["type", "button", "name", "add"];
var hoisted14 = ["src", "/img/help.svg", "alt", ""];
var hoisted15 = ["type", "button", "name", "delete"];
var hoisted16 = ["src", "/img/delete.svg", "alt", ""];
var hoisted17 = ["class", "achievements"];
var hoisted18 = ["type", "button", "class", "collapser", "name", "collapser"];
var hoisted19 = ["class", "description"];
var hoisted20 = ["type", "button", "name", "close"];
var hoisted21 = ["src", "/img/close.svg", "alt", ""];
var hoisted22 = ["name", "achievements"];
var hoisted23 = ["name", "achievement", "rows", "8"];
var hoisted24 = ["class", "control-container"];
var hoisted25 = ["type", "checkbox", "name", "share", "checked", ""];
var hoisted26 = ["class", "control-container"];
var hoisted27 = ["type", "checkbox", "name", "helping", "checked", ""];
var hoisted28 = ["class", "button-group"];
var hoisted29 = ["type", "button", "class", "primary"];
var hoisted30 = ["href", "javascript:void(0)"];
var hoisted31 = ["class", "html"];
var __target$6;

function render$6(ctrl) {
  incrementalDom.elementOpen("div", "48d80ca4-bfa6-4176-ab98-913771821703", hoisted1$6);
  incrementalDom.elementOpen("div", "f6437879-93a2-4dda-baa9-e60155e8ea1f", hoisted2$4);
  incrementalDom.elementOpen("div", "12239b4e-708b-4556-9123-1b6e3a5f0662", hoisted3$4);
  incrementalDom.text("" + ctrl.heading + "");
  incrementalDom.elementClose("div");
  incrementalDom.elementOpen("div", "176624b3-9714-42af-8e1c-3577aa94a6c9", hoisted4$4);
  if (!ctrl.added && !ctrl.multiple) {
    incrementalDom.elementOpen("button", "f166baea-1924-410b-b3f3-3d0252802987", hoisted5$4, "onclick", function ($event) {
      var $element = this;
      ctrl.add(ctrl.iid);
    });
    incrementalDom.elementOpen("img", "a3d40759-aaf0-4336-be79-26bdedda01e0", hoisted6$4);
    incrementalDom.elementClose("img");
    incrementalDom.elementClose("button");
  }
  if (!ctrl.earned && !ctrl.multiple && !ctrl.pending) {
    incrementalDom.elementOpen("button", "d82bb1b3-1c38-473b-b23f-9199e3112b56", hoisted7$3, "onclick", function ($event) {
      var $element = this;
      ctrl.addAndShowAchievementEditor(ctrl.iid);
    });
    incrementalDom.elementOpen("img", "8a6c000f-5df2-4dd7-b863-887868fd76f2", hoisted8$2);
    incrementalDom.elementClose("img");
    incrementalDom.elementClose("button");
  }
  if (ctrl.earned) {
    incrementalDom.elementOpen("button", "a8feea82-04ac-4298-8cd8-2823054e228a", hoisted9$1, "onclick", function ($event) {
      var $element = this;
      ctrl.showAwards(ctrl.iid, 'earned');
    });
    incrementalDom.elementOpen("img", "01a98051-c524-4b42-8f89-099e04bec6f4", hoisted10);
    incrementalDom.elementClose("img");
    incrementalDom.elementClose("button");
  }
  if (ctrl.pending) {
    incrementalDom.elementOpen("button", "e3575858-58ac-4dac-a9ae-c104fec75972", hoisted11, "onclick", function ($event) {
      var $element = this;
      ctrl.showAwards(ctrl.iid, 'pending');
    });
    incrementalDom.elementOpen("img", "ca99346c-4938-4e74-adbc-bb83601ab164", hoisted12);
    incrementalDom.elementClose("img");
    incrementalDom.elementClose("button");
  }
  incrementalDom.elementOpen("button", "2eaae494-7580-43e9-bd0b-552999368250", hoisted13, "onclick", function ($event) {
    var $element = this;
    ctrl.getHelp(ctrl.iid);
  });
  incrementalDom.elementOpen("img", "4dab5bcc-3737-488f-9b6f-5c9a87e1505a", hoisted14);
  incrementalDom.elementClose("img");
  incrementalDom.elementClose("button");
  if (ctrl.added) {
    incrementalDom.elementOpen("button", "552256ea-74ed-4156-9989-b3eeaa73f425", hoisted15, "onclick", function ($event) {
      var $element = this;
      ctrl.delete(ctrl.iid);
    });
    incrementalDom.elementOpen("img", "f4f73f28-4d8e-4d9c-89a6-a962c40a5454", hoisted16);
    incrementalDom.elementClose("img");
    incrementalDom.elementClose("button");
  }
  incrementalDom.elementOpen("button", "10c73993-5880-4624-a9d9-288a14799b02", hoisted17);
  incrementalDom.text("" + ctrl.achievements + "");
  incrementalDom.elementClose("button");
  incrementalDom.elementOpen("button", "e1115844-5e22-4144-b990-a347faf78e9f", hoisted18, "onclick", function ($event) {
    var $element = this;
    ctrl.toggle();
  });
  if (!ctrl.collapsed) {
    incrementalDom.elementOpen("span");
    incrementalDom.text("");
    incrementalDom.elementClose("span");
  }
  if (ctrl.collapsed) {
    incrementalDom.elementOpen("span");
    incrementalDom.text("");
    incrementalDom.elementClose("span");
  }
  incrementalDom.elementClose("button");
  incrementalDom.elementClose("div");
  incrementalDom.elementClose("div");
  incrementalDom.elementOpen("div", "9c31e998-0d14-4b92-a4c2-f21fcdb769b0", hoisted19);
  incrementalDom.text("" + ctrl.description + "");
  incrementalDom.elementClose("div");
  if (ctrl.showAchievements) {
    incrementalDom.elementOpen("achievements-wrapper");
    incrementalDom.elementOpen("header");
    incrementalDom.elementOpen("title");
    incrementalDom.text("Achievements:");
    incrementalDom.elementClose("title");
    incrementalDom.elementOpen("button", "4e6d5350-2045-4e02-8b0c-b979f14829e8", hoisted20, "onclick", function ($event) {
      var $element = this;
      ctrl.hideAchievements(ctrl.iid);
    });
    incrementalDom.elementOpen("img", "99403546-ccbf-4a95-b3a6-8ad2dedbdfd8", hoisted21);
    incrementalDom.elementClose("img");
    incrementalDom.elementClose("button");
    incrementalDom.elementClose("header");
    __target$6 = ctrl.awards;
    if (__target$6) {
      (__target$6.forEach ? __target$6 : Object.keys(__target$6)).forEach(function ($value, $item, $target) {
        var item = $value;
        var $key = "ea92d3d0-d4c6-4877-8757-2d76b23c1259_" + $item;
        incrementalDom.elementOpen("section", $key, hoisted22);
        if (ctrl.awards[item].pending && parseInt(ctrl.awards[item].skillId, 10) === parseInt(ctrl.iid, 10)) {
          incrementalDom.elementOpen("story");
          incrementalDom.text("" + ctrl.awards[item].pending.story + "");
          incrementalDom.elementClose("story");
          incrementalDom.elementOpen("status");
          incrementalDom.elementOpen("state");
          incrementalDom.text("Pending");
          incrementalDom.elementClose("state");
          incrementalDom.elementOpen("date");
          incrementalDom.text("Date: (" + new Date(ctrl.awards[item].pending.date).toLocaleString() + ")");
          incrementalDom.elementClose("date");
          incrementalDom.elementClose("status");
        }
        if (ctrl.awards[item].awarded && ctrl.awards[item].skillId === ctrl.iid) {
          incrementalDom.elementOpen("story");
          incrementalDom.text("" + ctrl.awards[item].awarded.story + "");
          incrementalDom.elementClose("story");
          incrementalDom.elementOpen("status");
          incrementalDom.elementOpen("state");
          incrementalDom.text("Awarded");
          incrementalDom.elementClose("state");
          incrementalDom.elementOpen("date");
          incrementalDom.text("Date: (" + new Date(ctrl.awards[item].awarded.date).toLocaleString() + ")");
          incrementalDom.elementClose("date");
          incrementalDom.elementClose("status");
        }
        incrementalDom.elementClose("section");
      }, this);
    }
    incrementalDom.elementClose("achievements-wrapper");
  }
  if (ctrl.showAlert) {
    incrementalDom.elementOpen("alert", null, null, "class", ctrl.alertClass);
    incrementalDom.text("" + ctrl.alertText + "");
    incrementalDom.elementClose("alert");
  }
  if (ctrl.showSkillEditor) {
    incrementalDom.elementOpen("skill-editor");
    incrementalDom.elementOpen("header");
    incrementalDom.text(" \
              Applying for a Skill Achievement \
            ");
    incrementalDom.elementClose("header");
    incrementalDom.elementOpen("p");
    incrementalDom.text(" \
              Congratultions on applying for a skill achievment award! Once you submit your request, \
              someone will review and approve it. Please share your experience, and sign up to help others. \
            ");
    incrementalDom.elementClose("p");
    incrementalDom.elementOpen("textarea", "e6e767ab-5feb-4137-9b28-f47996e6786c", hoisted23);
    incrementalDom.elementClose("textarea");
    incrementalDom.elementOpen("div", "28dcfd15-678f-46cf-9bdc-c12afd489734", hoisted24);
    incrementalDom.elementOpen("input", "30e1cbab-9b40-4f70-9ef4-948c4259aa9b", hoisted25);
    incrementalDom.elementClose("input");
    incrementalDom.elementOpen("span");
    incrementalDom.text("Yes, I'm willing to share my experience");
    incrementalDom.elementClose("span");
    incrementalDom.elementClose("div");
    incrementalDom.elementOpen("div", "ef0f42ca-c7aa-410c-99a9-6303a78a8840", hoisted26);
    incrementalDom.elementOpen("input", "c567cc15-be56-4469-8414-082edb88d2e2", hoisted27);
    incrementalDom.elementClose("input");
    incrementalDom.elementOpen("span");
    incrementalDom.text("Yes, I'm willing to help others achieve this skill.");
    incrementalDom.elementClose("span");
    incrementalDom.elementClose("div");
    incrementalDom.elementOpen("div", "14fca43b-8b2f-4fb7-b40b-10a4a5bd27b9", hoisted28);
    incrementalDom.elementOpen("button", "b17580e8-26ae-467e-9466-c1706c6380b5", hoisted29, "onclick", function ($event) {
      var $element = this;
      ctrl.applyForAchievment();
    });
    incrementalDom.text("Apply");
    incrementalDom.elementClose("button");
    incrementalDom.elementOpen("a", "e8ee82f2-5208-45fb-92fb-1dc34a56e535", hoisted30, "onclick", function ($event) {
      var $element = this;
      ctrl.hideSkillEditor();
    });
    incrementalDom.text("Cancel");
    incrementalDom.elementClose("a");
    incrementalDom.elementClose("div");
    incrementalDom.elementClose("skill-editor");
  }
  if (!ctrl.collapsed) {
    incrementalDom.elementOpen("div", "1ad91b62-6f8a-432e-9f0c-09c1c8f5c1ed", hoisted31);
    if (ctrl.html && ctrl.html !== '') {
      var el = incrementalDom.currentElement();
      el.innerHTML = ctrl.html;
    }
    incrementalDom.skip();
    incrementalDom.elementClose("div");
  }
  incrementalDom.elementClose("div");
}

var css$6 = ":host {\n  font-size: 1.5em;\n  line-height: 1.6;\n  font-weight: 400;\n  font-family: 'Roboto', Helvetica, sans-serif;\n  color: #222;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin-top: 0;\n  margin-bottom: 2rem;\n  font-weight: 300;\n}\nh1 {\n  font-size: 4.0rem;\n  line-height: 1.2;\n  letter-spacing: -0.1rem;\n}\nh2 {\n  font-size: 3.6rem;\n  line-height: 1.25;\n  letter-spacing: -0.1rem;\n}\nh3 {\n  font-size: 3.0rem;\n  line-height: 1.3;\n  letter-spacing: -0.1rem;\n}\nh4 {\n  font-size: 2.4rem;\n  line-height: 1.35;\n  letter-spacing: -0.08rem;\n}\nh5 {\n  font-size: 1.8rem;\n  line-height: 1.5;\n  letter-spacing: -0.05rem;\n}\nh6 {\n  font-size: 1.5rem;\n  line-height: 1.6;\n  letter-spacing: 0;\n}\n/* Larger than phablet */\n@media (min-width: 550px) {\n  h1 {\n    font-size: 5.0rem;\n  }\n  h2 {\n    font-size: 4.2rem;\n  }\n  h3 {\n    font-size: 3.6rem;\n  }\n  h4 {\n    font-size: 3.0rem;\n  }\n  h5 {\n    font-size: 2.4rem;\n  }\n  h6 {\n    font-size: 1.5rem;\n  }\n}\np {\n  margin-top: 0;\n}\na {\n  color: #f26100;\n}\na:hover {\n  color: #f26100;\n}\n.button,\nbutton,\ninput[type=\"submit\"],\ninput[type=\"reset\"],\ninput[type=\"button\"] {\n  display: inline-block;\n  height: 38px;\n  padding: 0 30px;\n  color: #555;\n  text-align: center;\n  font-size: 11px;\n  font-weight: 600;\n  line-height: 38px;\n  letter-spacing: .1rem;\n  text-transform: uppercase;\n  text-decoration: none;\n  white-space: nowrap;\n  background-color: transparent;\n  border: 1px solid #bbb;\n  cursor: pointer;\n  box-sizing: border-box;\n}\n.button:hover,\nbutton:hover,\ninput[type=\"submit\"]:hover,\ninput[type=\"reset\"]:hover,\ninput[type=\"button\"]:hover,\n.button:focus,\nbutton:focus,\ninput[type=\"submit\"]:focus,\ninput[type=\"reset\"]:focus,\ninput[type=\"button\"]:focus {\n  color: #333;\n  border-color: #888;\n  outline: 0;\n}\n.button.primary,\nbutton.primary,\ninput[type=\"submit\"].primary,\ninput[type=\"reset\"].primary,\ninput[type=\"button\"].primary {\n  color: #FFF;\n  background-color: #33C3F0;\n  border-color: #33C3F0;\n}\n.button.primary:hover,\nbutton.primary:hover,\ninput[type=\"submit\"].primary:hover,\ninput[type=\"reset\"].primary:hover,\ninput[type=\"button\"].primary:hover,\n.button.primary:focus,\nbutton.primary:focus,\ninput[type=\"submit\"].primary:focus,\ninput[type=\"reset\"].primary:focus,\ninput[type=\"button\"].primary:focus {\n  color: #FFF;\n  background-color: #1EAEDB;\n  border-color: #1EAEDB;\n}\n.collapsable-panel .panel {\n  border: 1px solid #ccc;\n  margin-bottom: 8px;\n}\n.collapsable-panel .panel .heading {\n  display: flex;\n  border-bottom: 1px solid #ccc;\n}\n.collapsable-panel .panel .heading .title {\n  font-size: 1em;\n  flex: 1;\n  padding-left: 1vw;\n}\n.collapsable-panel .panel .heading .button-group {\n  display: flex;\n  justify-content: flex-end;\n}\n.collapsable-panel .panel .heading .button-group button {\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  border: 0;\n  outline: none;\n  width: 28px;\n  height: 28px;\n  border-left: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n  font-size: .5em;\n  cursor: pointer;\n  line-height: normal;\n}\n.collapsable-panel .panel .heading .button-group button img {\n  height: 100%;\n  width: 100%;\n}\n.collapsable-panel .panel .description {\n  font-size: .75em;\n  padding-left: 1vw;\n}\n.collapsable-panel .panel .html {\n  font-size: .65em;\n  padding: 1vw;\n  border-top: 1px solid #ccc;\n}\n.collapsable-panel .panel alert {\n  display: flex;\n  padding: 1vh 1vw;\n  font-size: .75em;\n  border-top: 1px solid #ccc;\n}\n.collapsable-panel .panel alert.good {\n  background-color: rgba(100, 200, 100, 0.1);\n}\n.collapsable-panel .panel alert.bad {\n  background-color: rgba(200, 100, 100, 0.1);\n}\n.collapsable-panel skill-editor {\n  display: flex;\n  flex-direction: column;\n  margin: 1vh 1vw;\n  border: 2px solid gold;\n  font-size: .75em;\n  padding: 1vh 1vw;\n}\n.collapsable-panel skill-editor header {\n  display: block;\n  font-size: 1em;\n}\n.collapsable-panel skill-editor p {\n  font-size: .75em;\n}\n.collapsable-panel skill-editor .control-container,\n.collapsable-panel skill-editor .button-group {\n  display: flex;\n  font-size: .8em;\n  margin-top: 1vh;\n  align-items: center;\n}\n.collapsable-panel skill-editor input[type='checkbox'] {\n  margin-right: 2vw;\n}\n.collapsable-panel skill-editor .button-group a {\n  margin-left: 2vw;\n}\n.collapsable-panel achievements-wrapper {\n  display: flex;\n  flex-direction: column;\n  margin: 1vh 1vw;\n  padding: 1vh 1vw;\n  background-color: rgba(245, 191, 35, 0.2);\n  font-size: .75em;\n}\n.collapsable-panel achievements-wrapper header {\n  display: flex;\n}\n.collapsable-panel achievements-wrapper header button {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  outline: none;\n  width: 16px;\n  height: 16px;\n  position: relative;\n  top: -1vh;\n}\n.collapsable-panel achievements-wrapper header button img {\n  width: inherit;\n  height: inherit;\n}\n.collapsable-panel achievements-wrapper header title {\n  display: block;\n  flex: 1;\n}\n.collapsable-panel achievements-wrapper section {\n  flex: 1;\n}\n.collapsable-panel achievements-wrapper section story {\n  font-size: .8em;\n}\n.collapsable-panel achievements-wrapper section status {\n  display: flex;\n  border-top: 1px solid #ccc;\n  align-items: flex-end;\n}\n.collapsable-panel achievements-wrapper section status state {\n  display: inline-block;\n  flex: 1;\n  font-size: .7em;\n}\n.collapsable-panel achievements-wrapper section status date {\n  display: inline-block;\n  font-size: .6em;\n}\n";

var CollapsablePanel = function (_HTMLElement) {
  inherits(CollapsablePanel, _HTMLElement);

  function CollapsablePanel() {
    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    classCallCheck(this, CollapsablePanel);

    var _this = possibleConstructorReturn(this, (CollapsablePanel.__proto__ || Object.getPrototypeOf(CollapsablePanel)).call(this));

    _this.config = config;
    _this.collapsed = true;
    _this.db = firebase.database();
    _this.skills = [];
    _this.db.ref('/skills/').on('value', function (snapshot) {
      _this.skills = snapshot.val();
      _this._combineSkillsAndAwards();
    });
    _this.db.ref('/awards/').orderByChild('userId').equalTo(user.id).on('value', function (snapshot) {
      _this.awards = snapshot.val();
      _this._combineSkillsAndAwards();
    });
    return _this;
  }

  createClass(CollapsablePanel, [{
    key: 'add',
    value: function add(id) {
      var _this2 = this;

      var addAlert = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

      id = parseInt(id, 10);
      this.skill = this.skills.find(function (skill) {
        return skill.id === id;
      });
      var awarded = void 0;
      if (this.awards && this.skill) {
        Object.keys(this.awards).forEach(function (key) {
          var award = _this2.awards[key];
          awarded = !!(award.skillId === _this2.skill.id && award.userId === user.id);
        });
      }
      var multiple = this.skill && this.skill.multiple;
      if (this.skill && !awarded || multiple) {
        this.award = {
          userId: user.id,
          skillId: this.skill.id,
          created: new Date().toISOString()
        };
        this.db.ref('/awards').push(this.award);
        if (addAlert) this.addAlert('This skill has been added. You may apply for achieving this skill at any time.', 'good');
        return true;
      } else {
        if (addAlert) this.addAlert('This skill was not added to your list of skills because this skill has already been added to your list. To see your list, expand the skill.', 'bad');
        return false;
      }
    }
  }, {
    key: 'addAlert',
    value: function addAlert(text$$1, className) {
      var _this3 = this;

      var timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5000;

      this.showAlert = true;
      this.alertText = text$$1;
      this.alertClass = className;
      setTimeout(function () {
        _this3.showAlert = false;
        _this3.alertText = '';
        _this3.alertClass = '';
        _this3._updateView();
      }, timeout);
      this._updateView();
    }
  }, {
    key: 'addAndShowAchievementEditor',
    value: function addAndShowAchievementEditor(id) {
      id = parseInt(id, 10);
      this.add(id, false);
      this.skill = this.skills.find(function (skill) {
        return skill.id === id;
      });
      this.showSkillEditor = true;
      this._updateView();
    }
  }, {
    key: 'applyForAchievment',
    value: function applyForAchievment() {
      var userAwardEntry = void 0;
      var awardKey = void 0;
      if (this.awards) {
        for (var key in this.awards) {
          var award = this.awards[key];
          if (award.skillId === this.skill.id && award.userId === user.id) {
            awardKey = key;
            userAwardEntry = award;
          }
        }
      }
      var story = this.element.querySelector("textarea[name='achievement']").value;
      var share = this.element.querySelector("input[name='share']").value;
      var help = this.element.querySelector("input[name='helping']").value;
      if (userAwardEntry) {
        userAwardEntry.pending = { story: story, share: share, help: help, date: new Date().toISOString() };
        this.db.ref('/awards/' + awardKey).set(userAwardEntry);
        this.showSkillEditor = false;
        this.addAlert('You achievement application has been received. You will hear back shortly. While you are waiting, don\'t delete this skill from your list.', 'good');
      }
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {
      if (name && nVal !== oVal) {
        if (name === 'earned' || name === 'added' || name === 'pending') nVal = Boolean(nVal === 'true');
        this[name] = nVal;
        this._updateView();
      }
    }
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      this.attachShadow({ mode: 'open' });
      this.shadowRoot.innerHTML = '<style>' + css$6 + '</style><div class="collapsable-panel"></div>';
      this.element = this.shadowRoot.querySelector('.collapsable-panel');
      this._updateView();
    }
  }, {
    key: '_combineSkillsAndAwards',
    value: function _combineSkillsAndAwards() {
      this._updateView();
    }
  }, {
    key: 'delete',
    value: function _delete(id) {
      var _this4 = this;

      id = parseInt(id, 10);
      var skill = this.skills.find(function (skill) {
        return skill.id === id;
      });
      if (skill) {
        var addedKey = null;
        var awardedOrPending = false;
        for (var key in this.awards) {
          var award = this.awards[key];
          if (award.skillId === skill.id && award.userId === user.id) {
            addedKey = key;
            if (award.pending || award.earned) awardedOrPending = true;
          }
        }
        if (addedKey) {
          if (awardedOrPending) {
            var modal = new RbhModal();
            modal.heading = 'Already Pending or Awarded';
            modal.body = 'Deleting this skill will remove all awards and pending awards. Click "OK" to delete this skill and all awards and pending awards.';
            modal.primary = 'OK';
            modal.cancel = 'Cancel';
            document.querySelector('body').appendChild(modal);
            document.addEventListener('rbhModalButtonClick', function (evt) {
              if (evt.detail === 'primary') {
                _this4._deleteAward(addedKey);
              }
              modal.remove();
            });
          } else {
            this._deleteAward(addedKey);
          }
        }
      }
    }
  }, {
    key: '_deleteAward',
    value: function _deleteAward(key) {
      var _this5 = this;

      this.db.ref('/awards/' + key).remove().then(function () {
        _this5.addAlert('This skill has been removed. You may add it again at any time.', 'bad');
      }).catch(function (err) {
        _this5.addAlert('There was an error removing this skill.', 'bad');
      });
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: 'hideAchievements',
    value: function hideAchievements(skillId) {
      skillId = parseInt(skillId, 10);
      var temp = false;
      for (var key in this.awards) {
        if (this.awards[key].skillId === skillId && this.awards[key].userId === user.id) temp = true;
      }
      if (temp) this.showAchievements = false;
      this._updateView();
    }
  }, {
    key: 'hideSkillEditor',
    value: function hideSkillEditor() {
      this.showSkillEditor = false;
      this._updateView();
    }
  }, {
    key: 'showAwards',
    value: function showAwards(skillId, type) {
      skillId = parseInt(skillId, 10);
      var temp = false;
      for (var key in this.awards) {
        var award = this.awards[key];
        if (award.skillId === skillId && award.userId === user.id) temp = true;
      }

      if (this.showAchievements && temp) {
        this.showAchievements = false;
      } else {
        if (temp) this.showAchievements = true;
        if (type) this['show' + type] = true;else this['show' + type] = false;
      }
      this._updateView();
    }
  }, {
    key: 'toggle',
    value: function toggle() {
      this.collapsed = !this.collapsed;
      this._updateView();
    }
  }, {
    key: '_updateView',
    value: function _updateView() {
      if (this.element) incrementalDom.patch(this.element, render$6, this);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return ['heading', 'description', 'html', 'shared', 'collapsed', 'iid', 'earned', 'achievements', 'added', 'pending'];
    }
  }]);
  return CollapsablePanel;
}(HTMLElement);

customElements.define('collapsable-panel', CollapsablePanel);

var HomeAuthenticated = function (_HTMLElement) {
  inherits(HomeAuthenticated, _HTMLElement);

  function HomeAuthenticated() {
    classCallCheck(this, HomeAuthenticated);

    var _this = possibleConstructorReturn(this, (HomeAuthenticated.__proto__ || Object.getPrototypeOf(HomeAuthenticated)).call(this));

    _this.user = user;
    _this.skills = [];
    _this.viewSkills = [];
    _this.mine = false;
    _this.db = firebase.database();
    return _this;
  }

  createClass(HomeAuthenticated, [{
    key: 'anchorClickHandler',
    value: function anchorClickHandler(evt) {
      if (evt.target.tagName !== 'A') return;
      router.navigate(evt.target.getAttribute('href'));
      evt.preventDefault();
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {}
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      var _this2 = this;

      if (!this.user.authenticated) return router.navigate('/home');
      this.attachShadow({ mode: 'open' });
      this.shadowRoot.innerHTML = '<style>' + css$5 + '</style><div id="home"></div>';
      this.shadowRoot.addEventListener('click', this.anchorClickHandler.bind(this));
      this.element = this.shadowRoot.querySelector('div#home');
      this.db.ref('/awards/').orderByChild('userId').equalTo(user.id).on('value', function (snapshot) {
        _this2.awards = snapshot.val();
        _this2._combineSkillsAndAwards();
      });
      this.db.ref('skills').on('value', function (snapshot) {
        _this2.skills = Object.assign([], snapshot.val());
        _this2._combineSkillsAndAwards();
      });
      document.addEventListener('userChanged', this._updateView);
    }
  }, {
    key: '_combineSkillsAndAwards',
    value: function _combineSkillsAndAwards() {
      var _this3 = this;

      this.skills.forEach(function (skill) {
        skill.earned = _this3.skillEarned(skill);
        skill.added = _this3.skillAdded(skill);
        skill.pending = _this3.skillAppliedFor(skill);
      });
      this.viewSkills = Object.assign([], this.skills);
      this.mySkills = this.filterMine();
      // console.log("this.viewSkills", this.viewSkills)
      this._updateView();
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: 'filterSkills',
    value: function filterSkills(val) {
      var str = val ? val.toLowerCase() : null;
      if (!str || str === '') this.viewSkills = JSON.parse(JSON.stringify(this.skills));else {
        this.viewSkills = this.skills.filter(function (skill) {
          return skill.title.toLowerCase().indexOf(str) !== -1 || skill.description.toLowerCase().indexOf(str) !== -1 || skill.category.toLowerCase().indexOf(str) !== -1;
        });
      }
      this._updateView();
    }
  }, {
    key: 'skillAdded',
    value: function skillAdded(skill) {
      var _this4 = this;

      var exists = false;
      if (skill && this.awards) {
        Object.keys(this.awards).forEach(function (key) {
          var award = _this4.awards[key];
          if (award.skillId === skill.id) exists = true;
        });
      }
      return exists;
    }
  }, {
    key: 'skillEarned',
    value: function skillEarned(skill) {
      var _this5 = this;

      var earned = false;
      if (skill && this.awards) {
        Object.keys(this.awards).forEach(function (key) {
          var award = _this5.awards[key];
          if (award.skillId === skill.id && award.earned) earned = true;
        });
      }
      return earned;
    }
  }, {
    key: 'skillAppliedFor',
    value: function skillAppliedFor(skill) {
      var _this6 = this;

      var pending = false;
      if (skill && this.awards) {
        Object.keys(this.awards).forEach(function (key) {
          var award = _this6.awards[key];
          if (award.skillId === skill.id && award.pending) pending = true;
        });
      }
      return pending;
    }
  }, {
    key: 'filterMine',
    value: function filterMine() {
      var _this7 = this;

      var temp = [];
      var mySkills = [];
      if (this.awards) {
        Object.keys(this.awards).forEach(function (key) {
          var award = _this7.awards[key];
          temp.push(award.skillId);
        });
      }
      temp.forEach(function (t) {
        _this7.skills.forEach(function (skill) {
          if (skill.id === t) mySkills.push(skill);
        });
      });
      return mySkills;
    }
  }, {
    key: 'toggleMine',
    value: function toggleMine() {
      if (!this.mine) {
        this.viewSkills = this.mySkills;
        this.mine = true;
      } else {
        this.mine = false;
        this.viewSkills = Object.assign([], this.skills);
      }
      this._updateView();
    }
  }, {
    key: '_updateView',
    value: function _updateView() {
      if (this.element) incrementalDom.patch(this.element, render$5, this);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [];
    }
  }]);
  return HomeAuthenticated;
}(HTMLElement);

customElements.define('home-authenticated', HomeAuthenticated);

var hoisted1$7 = ["type", "text", "name", "search-goals", "placeholder", "Search ..."];
var hoisted2$5 = ["type", "button", "add-button", ""];
function render$7(ctrl) {
  incrementalDom.elementOpen("header");
  incrementalDom.elementOpen("input", "f29b1753-f0b9-4ff8-a4aa-54a53cc818e0", hoisted1$7, "onkeyup", function ($event) {
    var $element = this;
    ctrl.goalSearch(this.value);
  });
  incrementalDom.elementClose("input");
  incrementalDom.elementOpen("button", "f480307c-1843-417d-a272-27ee8b538929", hoisted2$5);
  incrementalDom.text("Add");
  incrementalDom.elementClose("button");
  incrementalDom.elementClose("header");
  incrementalDom.elementOpen("section");
  incrementalDom.elementClose("section");
}

var css$7 = ":host {\n  font-size: 1.5em;\n  line-height: 1.6;\n  font-weight: 400;\n  font-family: 'Roboto', Helvetica, sans-serif;\n  color: #222;\n}\n.button,\nbutton,\ninput[type=\"submit\"],\ninput[type=\"reset\"],\ninput[type=\"button\"] {\n  display: inline-block;\n  height: 38px;\n  padding: 0 30px;\n  color: #555;\n  text-align: center;\n  font-size: 11px;\n  font-weight: 600;\n  line-height: 38px;\n  letter-spacing: .1rem;\n  text-transform: uppercase;\n  text-decoration: none;\n  white-space: nowrap;\n  background-color: transparent;\n  border: 1px solid #bbb;\n  cursor: pointer;\n  box-sizing: border-box;\n}\n.button:hover,\nbutton:hover,\ninput[type=\"submit\"]:hover,\ninput[type=\"reset\"]:hover,\ninput[type=\"button\"]:hover,\n.button:focus,\nbutton:focus,\ninput[type=\"submit\"]:focus,\ninput[type=\"reset\"]:focus,\ninput[type=\"button\"]:focus {\n  color: #333;\n  border-color: #888;\n  outline: 0;\n}\n.button.primary,\nbutton.primary,\ninput[type=\"submit\"].primary,\ninput[type=\"reset\"].primary,\ninput[type=\"button\"].primary {\n  color: #FFF;\n  background-color: #33C3F0;\n  border-color: #33C3F0;\n}\n.button.primary:hover,\nbutton.primary:hover,\ninput[type=\"submit\"].primary:hover,\ninput[type=\"reset\"].primary:hover,\ninput[type=\"button\"].primary:hover,\n.button.primary:focus,\nbutton.primary:focus,\ninput[type=\"submit\"].primary:focus,\ninput[type=\"reset\"].primary:focus,\ninput[type=\"button\"].primary:focus {\n  color: #FFF;\n  background-color: #1EAEDB;\n  border-color: #1EAEDB;\n}\ninput[type=\"email\"],\ninput[type=\"number\"],\ninput[type=\"search\"],\ninput[type=\"text\"],\ninput[type=\"tel\"],\ninput[type=\"url\"],\ninput[type=\"password\"],\ntextarea,\nselect {\n  height: 38px;\n  padding: 6px 10px;\n  /* The 6px vertically centers text on FF, ignored by Webkit */\n  background-color: #fff;\n  border: 1px solid #D1D1D1;\n  box-shadow: none;\n  box-sizing: border-box;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  font-size: .8em;\n}\ninput[type=\"email\"]:focus,\ninput[type=\"number\"]:focus,\ninput[type=\"search\"]:focus,\ninput[type=\"text\"]:focus,\ninput[type=\"tel\"]:focus,\ninput[type=\"url\"]:focus,\ninput[type=\"password\"]:focus,\ntextarea:focus,\nselect:focus {\n  border: 1px solid #33C3F0;\n  outline: 0;\n}\ntextarea {\n  min-height: 65px;\n  padding-top: 6px;\n  padding-bottom: 6px;\n}\nlabel,\nlegend {\n  display: block;\n  margin-bottom: .5rem;\n  font-weight: 600;\n}\nfieldset {\n  padding: 0;\n  border-width: 0;\n}\ninput[type=\"checkbox\"],\ninput[type=\"radio\"] {\n  display: inline;\n}\nlabel > .label-body {\n  display: inline-block;\n  margin-left: .5rem;\n  font-weight: normal;\n}\nuser-skills {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\nuser-skills #user-skills {\n  flex: 1;\n  margin: 1vh 1vw;\n  padding: 1vh 1vw;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n}\nuser-skills #user-skills header {\n  display: flex;\n}\nuser-skills #user-skills header input {\n  flex: 5;\n}\nuser-skills #user-skills header button {\n  flex: 1;\n  margin-left: 1vw;\n}\n";

var UserSkills = function (_HTMLElement) {
  inherits(UserSkills, _HTMLElement);

  function UserSkills() {
    classCallCheck(this, UserSkills);

    var _this = possibleConstructorReturn(this, (UserSkills.__proto__ || Object.getPrototypeOf(UserSkills)).call(this));

    _this.user = user;
    return _this;
  }

  createClass(UserSkills, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {}
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      this.innerHTML = '<style>' + css$7 + '</style><div id="user-skills"></div>';
      this.element = this.querySelector('div#user-skills');
      this.active = 'goals';
      this.updateView();
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: 'selectTab',
    value: function selectTab(tab) {
      this.active = tab;
      this.updateView();
    }
  }, {
    key: 'updateView',
    value: function updateView() {
      // wrap in if. otherwise ff and safari fail
      if (this.element) incrementalDom.patch(this.element, render$7, this);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [''];
    }
  }]);
  return UserSkills;
}(HTMLElement);

customElements.define('user-skills', UserSkills);

var hoisted1$8 = ["type", "radio", "name", "tabgroup", "id", "users-tab-control", "value", "users"];
var hoisted2$6 = ["for", "users-tab-control"];
var hoisted3$5 = ["type", "radio", "id", "skills-tab-control", "name", "tabgroup", "value", "skills"];
var hoisted4$5 = ["for", "skills-tab-control"];
var hoisted5$5 = ["type", "radio", "id", "awards-tab-control", "name", "tabgroup", "value", "awards"];
var hoisted6$5 = ["for", "awards-tab-control"];
var hoisted7$4 = ["type", "radio", "id", "assistance-tab-control", "name", "tabgroup", "value", "assistance"];
var hoisted8$3 = ["for", "assistance-tab-control"];
var hoisted9$2 = ["type", "radio", "id", "reports-tab-control", "name", "tabgroup", "value", "reports"];
var hoisted10$1 = ["for", "reports-tab-control"];
function render$8(ctrl) {
  incrementalDom.elementOpen("tabs");
  incrementalDom.elementOpen("tab");
  incrementalDom.elementOpen("input", "555a0996-aede-42ad-bdb8-565a3c7e57a0", hoisted1$8, "onclick", function ($event) {
    var $element = this;
    ctrl.selectTab(this.value);
  });
  incrementalDom.elementClose("input");
  incrementalDom.elementOpen("label", "682a848b-d586-4d79-ae7e-5288fc3f7e41", hoisted2$6);
  incrementalDom.text("Users");
  incrementalDom.elementClose("label");
  incrementalDom.elementClose("tab");
  incrementalDom.elementOpen("tab");
  incrementalDom.elementOpen("input", "88f480f2-32d7-46e6-800b-6495dc4a6249", hoisted3$5, "onclick", function ($event) {
    var $element = this;
    ctrl.selectTab(this.value);
  });
  incrementalDom.elementClose("input");
  incrementalDom.elementOpen("label", "eedf8a78-4cdb-460c-aec4-0365606dafe0", hoisted4$5);
  incrementalDom.text("Skills");
  incrementalDom.elementClose("label");
  incrementalDom.elementClose("tab");
  incrementalDom.elementOpen("tab");
  incrementalDom.elementOpen("input", "812b65fa-d90b-4770-9589-086412862401", hoisted5$5, "onclick", function ($event) {
    var $element = this;
    ctrl.selectTab(this.value);
  });
  incrementalDom.elementClose("input");
  incrementalDom.elementOpen("label", "e018eeee-e58a-4700-858b-a4eb200acca5", hoisted6$5);
  incrementalDom.text("Awards");
  incrementalDom.elementClose("label");
  incrementalDom.elementClose("tab");
  incrementalDom.elementOpen("tab");
  incrementalDom.elementOpen("input", "3171426c-8fb4-40ce-b005-cb0fb61f781f", hoisted7$4, "onclick", function ($event) {
    var $element = this;
    ctrl.selectTab(this.value);
  });
  incrementalDom.elementClose("input");
  incrementalDom.elementOpen("label", "7691be62-4034-463b-8908-f4b0ab8c2771", hoisted8$3);
  incrementalDom.text("Assistance");
  incrementalDom.elementClose("label");
  incrementalDom.elementClose("tab");
  incrementalDom.elementOpen("tab");
  incrementalDom.elementOpen("input", "067ca20e-9599-407d-a102-a9c9438f8f97", hoisted9$2, "onclick", function ($event) {
    var $element = this;
    ctrl.selectTab(this.value);
  });
  incrementalDom.elementClose("input");
  incrementalDom.elementOpen("label", "049c61b9-5b18-48ab-997f-d81f6cb584f2", hoisted10$1);
  incrementalDom.text("Reports");
  incrementalDom.elementClose("label");
  incrementalDom.elementClose("tab");
  incrementalDom.elementClose("tabs");
  incrementalDom.elementOpen("content");
  incrementalDom.elementClose("content");
}

var css$8 = "#sys-admin {\n  position: fixed;\n  top: 64px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n#sys-admin tabs {\n  display: flex;\n  margin: 2vw 2vw 0 2vw;\n  background-color: white;\n  justify-content: flex-start;\n}\n#sys-admin tab {\n  display: block;\n  flex: 1;\n}\n#sys-admin tab input[type=radio] {\n  display: none;\n}\n#sys-admin tab input[type=radio]:checked ~ label {\n  background: white;\n  border-bottom: 1px solid white;\n  z-index: 2;\n}\n#sys-admin tab label {\n  display: block;\n  background: #eee;\n  padding: 10px;\n  border: 1px solid #ccc;\n  font-size: 17px;\n  cursor: pointer;\n}\n#sys-admin content {\n  display: flex;\n  flex-direction: column;\n  background: white;\n  border-right: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n  border-left: 1px solid #ccc;\n  margin: 0 2vw;\n  padding: 2vw;\n  height: 86%;\n  overflow: hidden;\n}\n#sys-admin skills-search,\n#sys-admin users-search {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 1vh;\n}\n#sys-admin skills-search input,\n#sys-admin users-search input {\n  flex: 6;\n}\n#sys-admin skills-search button,\n#sys-admin users-search button {\n  flex: 1;\n  margin-left: 8px;\n}\n#sys-admin skills-list,\n#sys-admin users-list {\n  display: flex;\n  flex-direction: column;\n}\n#sys-admin skill-item,\n#sys-admin user-item {\n  display: flex;\n  padding: 1vh 1vw;\n}\n#sys-admin skill-item .info,\n#sys-admin user-item .info {\n  display: flex;\n  flex: 6;\n  flex-direction: column;\n}\n#sys-admin skill-item .info .title,\n#sys-admin user-item .info .title {\n  font-size: 17px;\n  font-weight: bold;\n}\n#sys-admin skill-item .info .description,\n#sys-admin user-item .info .description {\n  font-size: 16px;\n}\n#sys-admin skill-item .info .category,\n#sys-admin user-item .info .category {\n  font-size: 15px;\n}\n#sys-admin skill-item .action,\n#sys-admin user-item .action {\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n}\n#sys-admin skill-item .action button,\n#sys-admin user-item .action button {\n  margin-right: 2vw;\n}\n#sys-admin skill-item.even,\n#sys-admin user-item.even {\n  background-color: #efefef;\n}\n#sys-admin form[name='skill'],\n#sys-admin form[name='user'] {\n  display: flex;\n  flex-direction: column;\n}\n#sys-admin form[name='skill'] > *,\n#sys-admin form[name='user'] > * {\n  display: flex;\n  justify-content: space-between;\n}\n#sys-admin form[name='skill'] > * label,\n#sys-admin form[name='user'] > * label {\n  font-size: 18px;\n  flex: 1.25;\n}\n#sys-admin form[name='skill'] > * input,\n#sys-admin form[name='user'] > * input,\n#sys-admin form[name='skill'] > * select,\n#sys-admin form[name='user'] > * select {\n  flex: 3;\n  margin-bottom: 1vh;\n}\n#sys-admin form[name='skill'] skill-editor-instructions,\n#sys-admin form[name='user'] skill-editor-instructions {\n  display: flex;\n  flex-direction: column;\n}\n#sys-admin form[name='skill'] skill-editor-instructions label,\n#sys-admin form[name='user'] skill-editor-instructions label {\n  font-size: 18px;\n}\n#sys-admin form[name='skill'] skill-editor-instructions #skill-editor,\n#sys-admin form[name='user'] skill-editor-instructions #skill-editor {\n  height: 40vh;\n  margin-bottom: 1vh;\n}\n#sys-admin form[name='skill'] button[name='cancel'],\n#sys-admin form[name='user'] button[name='cancel'] {\n  margin: 0 1vw;\n}\n#sys-admin skill-editor-actions,\n#sys-admin user-editor-actions {\n  justify-content: flex-start !important;\n}\n";

var css$9 = "";

function render$9(ctrl) {
  incrementalDom.text("Help \
");
}

var AssistanceAdmin = function (_HTMLElement) {
  inherits(AssistanceAdmin, _HTMLElement);

  function AssistanceAdmin() {
    classCallCheck(this, AssistanceAdmin);

    var _this = possibleConstructorReturn(this, (AssistanceAdmin.__proto__ || Object.getPrototypeOf(AssistanceAdmin)).call(this));

    _this.attachShadow({ mode: 'open' });
    _this.shadowRoot.innerHTML = '<style>' + css$9 + '</style><container></container>';
    _this.element = _this.shadowRoot.querySelector('container');
    return _this;
  }

  createClass(AssistanceAdmin, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {
      if (nVal && nVal !== '' && nVal !== oVal) {
        this._updateView();
      }
    }
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      this._updateView();
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: '_updateView',
    value: function _updateView() {
      if (this.element) incrementalDom.patch(this.element, render$9, this);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [];
    }
  }]);
  return AssistanceAdmin;
}(HTMLElement);

customElements.define('assistance-admin', AssistanceAdmin);

var css$10 = ".button,\nbutton,\ninput[type=\"submit\"],\ninput[type=\"reset\"],\ninput[type=\"button\"] {\n  display: inline-block;\n  height: 38px;\n  padding: 0 30px;\n  color: #555;\n  text-align: center;\n  font-size: 11px;\n  font-weight: 600;\n  line-height: 38px;\n  letter-spacing: .1rem;\n  text-transform: uppercase;\n  text-decoration: none;\n  white-space: nowrap;\n  background-color: transparent;\n  border: 1px solid #bbb;\n  cursor: pointer;\n  box-sizing: border-box;\n}\n.button:hover,\nbutton:hover,\ninput[type=\"submit\"]:hover,\ninput[type=\"reset\"]:hover,\ninput[type=\"button\"]:hover,\n.button:focus,\nbutton:focus,\ninput[type=\"submit\"]:focus,\ninput[type=\"reset\"]:focus,\ninput[type=\"button\"]:focus {\n  color: #333;\n  border-color: #888;\n  outline: 0;\n}\n.button.primary,\nbutton.primary,\ninput[type=\"submit\"].primary,\ninput[type=\"reset\"].primary,\ninput[type=\"button\"].primary {\n  color: #FFF;\n  background-color: #33C3F0;\n  border-color: #33C3F0;\n}\n.button.primary:hover,\nbutton.primary:hover,\ninput[type=\"submit\"].primary:hover,\ninput[type=\"reset\"].primary:hover,\ninput[type=\"button\"].primary:hover,\n.button.primary:focus,\nbutton.primary:focus,\ninput[type=\"submit\"].primary:focus,\ninput[type=\"reset\"].primary:focus,\ninput[type=\"button\"].primary:focus {\n  color: #FFF;\n  background-color: #1EAEDB;\n  border-color: #1EAEDB;\n}\n:host {\n  display: flex;\n  flex-direction: column;\n}\nsection[name='header'] {\n  display: flex;\n  flex-direction: column;\n}\nsection[name='header'] input[name=\"search\"] {\n  height: 38px;\n  font-size: 1em;\n  padding-left: 1vw;\n}\nsection[name='header'] #filter {\n  display: flex;\n  align-items: center;\n  height: 38px;\n  border: 1px solid #ccc;\n  border-top: 0;\n}\nsection[name='header'] #filter label {\n  flex: 1;\n  padding-left: 1vw;\n}\nsection[name='awards'] {\n  flex: 1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  margin-top: 1vh;\n  border: 1px solid #ccc;\n  display: flex;\n  flex-direction: column;\n  padding: 1vw 1vh;\n}\nsection[name='awards'] .row {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: .9em;\n}\nsection[name='awards'] .row user,\nsection[name='awards'] .row skill,\nsection[name='awards'] .row date,\nsection[name='awards'] .row story,\nsection[name='awards'] .row actions {\n  display: flex;\n  height: 28px;\n  width: 100%;\n  align-items: center;\n}\nsection[name='awards'] .row user name,\nsection[name='awards'] .row skill name,\nsection[name='awards'] .row date name,\nsection[name='awards'] .row story name,\nsection[name='awards'] .row actions name {\n  flex: 1;\n  font-weight: bold;\n}\nsection[name='awards'] .row user value,\nsection[name='awards'] .row skill value,\nsection[name='awards'] .row date value,\nsection[name='awards'] .row story value,\nsection[name='awards'] .row actions value {\n  display: inline-block;\n  flex: 4;\n}\nsection[name='awards'] .row story value {\n  border: 1px solid #ccc;\n  padding: 1vh 1vw;\n}\nsection[name='awards'] .row actions {\n  height: 48px;\n}\nsection[name='awards'] .row actions value {\n  padding: 0;\n}\nsection[name='awards'] .row actions value button {\n  margin-top: 2vh;\n}\n";

var hoisted1$9 = ["name", "header"];
var hoisted2$7 = ["type", "text", "name", "search", "value", "", "placeholder", "Search ..."];
var hoisted3$6 = ["id", "filter"];
var hoisted4$6 = ["for", ""];
var hoisted5$6 = ["type", "radio", "name", "awardsFilter", "value", ""];
var hoisted6$6 = ["for", ""];
var hoisted7$5 = ["type", "radio", "name", "awardsFilter", "value", "", "checked", ""];
var hoisted8$4 = ["for", ""];
var hoisted9$3 = ["type", "radio", "name", "awardsFilter", "value", ""];
var hoisted10$2 = ["name", "awards"];
var hoisted11$1 = ["class", "row"];
var hoisted12$1 = ["type", "button", "class", "primary", "name", "accept"];
function render$10(ctrl) {
  incrementalDom.elementOpen("section", "3f88b1ca-72e6-49b2-af4f-791780941db6", hoisted1$9);
  incrementalDom.elementOpen("input", "448e9db8-e40f-40f0-aa57-29569b79171a", hoisted2$7);
  incrementalDom.elementClose("input");
  incrementalDom.elementOpen("div", "e0af977f-be0b-4b90-a3fb-6e0afe6119c3", hoisted3$6);
  incrementalDom.elementOpen("label", "19ac56bb-f142-4cd6-9b07-5a9134cdd6c0", hoisted4$6);
  incrementalDom.elementOpen("input", "0068ec8c-1948-451b-bfbd-8f2b0b2b2606", hoisted5$6);
  incrementalDom.elementClose("input");
  incrementalDom.text(" \
            All \
          ");
  incrementalDom.elementClose("label");
  incrementalDom.elementOpen("label", "322e57a6-6ba0-4e60-88c6-e66826f4eed7", hoisted6$6);
  incrementalDom.elementOpen("input", "01a04b1f-fe46-4b9e-a4de-62d1800990b9", hoisted7$5);
  incrementalDom.elementClose("input");
  incrementalDom.text(" \
            Pending \
          ");
  incrementalDom.elementClose("label");
  incrementalDom.elementOpen("label", "6c3ab7ea-d22b-444d-938c-40e1767bc153", hoisted8$4);
  incrementalDom.elementOpen("input", "0d5ebe64-4684-4c50-9e91-9210f2f37345", hoisted9$3);
  incrementalDom.elementClose("input");
  incrementalDom.text(" \
            Earned \
          ");
  incrementalDom.elementClose("label");
  incrementalDom.elementClose("div");
  incrementalDom.elementClose("section");
  incrementalDom.elementOpen("section", "91bd4c70-8654-4ff3-87cc-69fc27647a05", hoisted10$2);
  incrementalDom.elementOpen("div", "09d805f2-ef3f-4f01-9271-7a4f5cb0ff5c", hoisted11$1);
  incrementalDom.elementOpen("user");
  incrementalDom.elementOpen("name");
  incrementalDom.text("Name");
  incrementalDom.elementClose("name");
  incrementalDom.elementOpen("value");
  incrementalDom.text("Rob Hicks");
  incrementalDom.elementClose("value");
  incrementalDom.elementClose("user");
  incrementalDom.elementOpen("skill");
  incrementalDom.elementOpen("name");
  incrementalDom.text("Skill");
  incrementalDom.elementClose("name");
  incrementalDom.elementOpen("value");
  incrementalDom.text("My Family");
  incrementalDom.elementClose("value");
  incrementalDom.elementClose("skill");
  incrementalDom.elementOpen("date");
  incrementalDom.elementOpen("name");
  incrementalDom.text("Date");
  incrementalDom.elementClose("name");
  incrementalDom.elementOpen("value");
  incrementalDom.text("March 31");
  incrementalDom.elementClose("value");
  incrementalDom.elementClose("date");
  incrementalDom.elementOpen("story");
  incrementalDom.elementOpen("name");
  incrementalDom.text("Story");
  incrementalDom.elementClose("name");
  incrementalDom.elementOpen("value");
  incrementalDom.text("My Story");
  incrementalDom.elementClose("value");
  incrementalDom.elementClose("story");
  incrementalDom.elementOpen("actions");
  incrementalDom.elementOpen("name");
  incrementalDom.elementClose("name");
  incrementalDom.elementOpen("value");
  incrementalDom.elementOpen("button", "e8c9d336-218f-4491-9017-db3f0037bc3b", hoisted12$1);
  incrementalDom.text("Accept");
  incrementalDom.elementClose("button");
  incrementalDom.elementClose("value");
  incrementalDom.elementClose("actions");
  incrementalDom.elementClose("div");
  incrementalDom.elementClose("section");
}

var AwardsAdmin = function (_HTMLElement) {
  inherits(AwardsAdmin, _HTMLElement);

  function AwardsAdmin() {
    classCallCheck(this, AwardsAdmin);

    var _this = possibleConstructorReturn(this, (AwardsAdmin.__proto__ || Object.getPrototypeOf(AwardsAdmin)).call(this));

    _this.attachShadow({ mode: 'open' });
    _this.shadowRoot.innerHTML = '<style>' + css$10 + '</style><container></container>';
    _this.element = _this.shadowRoot.querySelector('container');
    _this.db = firebase.database();
    _this.awardsTable = _this.db.ref('/awards');
    _this.usersTable = _this.db.ref('/users');
    _this.skillsTable = _this.db.ref('/skills');
    return _this;
  }

  createClass(AwardsAdmin, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {
      if (nVal && nVal !== '' && nVal !== oVal) {
        this._updateView();
      }
    }
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      var _this2 = this;

      this.awardsTable.on('value', function (snapshot) {
        _this2.awards = [];
        var awards = snapshot.val();
        for (var key in awards) {
          _this2.awards.push(Object.assign({ id: key }, awards[key]));
        }
        console.log("this.awards", _this2.awards);
      });
      this._updateView();
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: '_updateView',
    value: function _updateView() {
      if (this.element) incrementalDom.patch(this.element, render$10, this);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [];
    }
  }]);
  return AwardsAdmin;
}(HTMLElement);

customElements.define('awards-admin', AwardsAdmin);

var css$11 = "";

function render$11(ctrl) {
  incrementalDom.text("Reports \
");
}

var ReportsAdmin = function (_HTMLElement) {
  inherits(ReportsAdmin, _HTMLElement);

  function ReportsAdmin() {
    classCallCheck(this, ReportsAdmin);

    var _this = possibleConstructorReturn(this, (ReportsAdmin.__proto__ || Object.getPrototypeOf(ReportsAdmin)).call(this));

    _this.attachShadow({ mode: 'open' });
    _this.shadowRoot.innerHTML = '<style>' + css$11 + '</style><container></container>';
    _this.element = _this.shadowRoot.querySelector('container');
    return _this;
  }

  createClass(ReportsAdmin, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {
      if (nVal && nVal !== '' && nVal !== oVal) {
        this._updateView();
      }
    }
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      this._updateView();
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: '_updateView',
    value: function _updateView() {
      if (this.element) incrementalDom.patch(this.element, render$11, this);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [];
    }
  }]);
  return ReportsAdmin;
}(HTMLElement);

customElements.define('reports-admin', ReportsAdmin);

var css$12 = ":host {\n  font-size: 1.5em;\n  line-height: 1.6;\n  font-weight: 400;\n  font-family: 'Roboto', Helvetica, sans-serif;\n  color: #222;\n}\n.button,\nbutton,\ninput[type=\"submit\"],\ninput[type=\"reset\"],\ninput[type=\"button\"] {\n  display: inline-block;\n  height: 38px;\n  padding: 0 30px;\n  color: #555;\n  text-align: center;\n  font-size: 11px;\n  font-weight: 600;\n  line-height: 38px;\n  letter-spacing: .1rem;\n  text-transform: uppercase;\n  text-decoration: none;\n  white-space: nowrap;\n  background-color: transparent;\n  border: 1px solid #bbb;\n  cursor: pointer;\n  box-sizing: border-box;\n}\n.button:hover,\nbutton:hover,\ninput[type=\"submit\"]:hover,\ninput[type=\"reset\"]:hover,\ninput[type=\"button\"]:hover,\n.button:focus,\nbutton:focus,\ninput[type=\"submit\"]:focus,\ninput[type=\"reset\"]:focus,\ninput[type=\"button\"]:focus {\n  color: #333;\n  border-color: #888;\n  outline: 0;\n}\n.button.primary,\nbutton.primary,\ninput[type=\"submit\"].primary,\ninput[type=\"reset\"].primary,\ninput[type=\"button\"].primary {\n  color: #FFF;\n  background-color: #33C3F0;\n  border-color: #33C3F0;\n}\n.button.primary:hover,\nbutton.primary:hover,\ninput[type=\"submit\"].primary:hover,\ninput[type=\"reset\"].primary:hover,\ninput[type=\"button\"].primary:hover,\n.button.primary:focus,\nbutton.primary:focus,\ninput[type=\"submit\"].primary:focus,\ninput[type=\"reset\"].primary:focus,\ninput[type=\"button\"].primary:focus {\n  color: #FFF;\n  background-color: #1EAEDB;\n  border-color: #1EAEDB;\n}\ninput[type=\"email\"],\ninput[type=\"number\"],\ninput[type=\"search\"],\ninput[type=\"text\"],\ninput[type=\"tel\"],\ninput[type=\"url\"],\ninput[type=\"password\"],\ntextarea,\nselect {\n  height: 38px;\n  padding: 6px 10px;\n  /* The 6px vertically centers text on FF, ignored by Webkit */\n  background-color: #fff;\n  border: 1px solid #D1D1D1;\n  box-shadow: none;\n  box-sizing: border-box;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  font-size: .8em;\n}\ninput[type=\"email\"]:focus,\ninput[type=\"number\"]:focus,\ninput[type=\"search\"]:focus,\ninput[type=\"text\"]:focus,\ninput[type=\"tel\"]:focus,\ninput[type=\"url\"]:focus,\ninput[type=\"password\"]:focus,\ntextarea:focus,\nselect:focus {\n  border: 1px solid #33C3F0;\n  outline: 0;\n}\ntextarea {\n  min-height: 65px;\n  padding-top: 6px;\n  padding-bottom: 6px;\n}\nlabel,\nlegend {\n  display: block;\n  margin-bottom: .5rem;\n  font-weight: 600;\n}\nfieldset {\n  padding: 0;\n  border-width: 0;\n}\ninput[type=\"checkbox\"],\ninput[type=\"radio\"] {\n  display: inline;\n}\nlabel > .label-body {\n  display: inline-block;\n  margin-left: .5rem;\n  font-weight: normal;\n}\n";

var hoisted1$10 = ["type", "text", "name", "skillsearch", "placeholder", "Search ..."];
var hoisted2$8 = ["type", "button", "name", "add"];
var hoisted3$7 = ["name", "skill"];
var hoisted4$7 = ["type", "text", "required", ""];
var hoisted5$7 = ["type", "text", "required", ""];
var hoisted6$7 = ["name", "category", "required", ""];
var hoisted7$6 = ["value", ""];
var hoisted8$5 = ["value", "booklet"];
var hoisted9$4 = ["value", "find"];
var hoisted10$3 = ["value", "take"];
var hoisted11$2 = ["value", "indexing"];
var hoisted12$2 = ["type", "checkbox"];
var hoisted13$1 = ["id", "skill-editor"];
var hoisted14$1 = ["type", "button", "name", "save", "class", "primary"];
var hoisted15$1 = ["type", "button", "name", "cancel"];
var hoisted16$1 = ["class", "info"];
var hoisted17$1 = ["class", "title"];
var hoisted18$1 = ["class", "description"];
var hoisted19$1 = ["class", "action"];
var hoisted20$1 = ["type", "button"];
var __target$12;

function render$12(ctrl) {
  if (!ctrl.skillEditor) {
    incrementalDom.elementOpen("skills-search");
    incrementalDom.elementOpen("input", "73e7d9a8-9d09-4314-8f1a-633e7c02fe8a", hoisted1$10, "onkeyup", function ($event) {
      var $element = this;
      ctrl.filterSkills(this.value);
    });
    incrementalDom.elementClose("input");
    incrementalDom.elementOpen("button", "c8b87ac2-c840-4418-9948-1c4ce3db44d2", hoisted2$8, "onclick", function ($event) {
      var $element = this;
      ctrl.addSkill();
    });
    incrementalDom.text("Add");
    incrementalDom.elementClose("button");
    incrementalDom.elementClose("skills-search");
  }
  incrementalDom.elementOpen("skills-list");
  if (ctrl.skillEditor) {
    incrementalDom.elementOpen("form", "3f5fb995-837d-4946-a225-953c271efe1f", hoisted3$7);
    incrementalDom.elementOpen("skill-editor-title");
    incrementalDom.elementOpen("label");
    incrementalDom.text("Title:");
    incrementalDom.elementClose("label");
    incrementalDom.elementOpen("input", "0af71126-1a67-458e-8dc1-72650614db4e", hoisted4$7, "name", ctrl.skill.title, "value", ctrl.skill.title, "onchange", function ($event) {
      var $element = this;
      ctrl.skill.title = this.value;
    });
    incrementalDom.elementClose("input");
    incrementalDom.elementClose("skill-editor-title");
    incrementalDom.elementOpen("skill-editor-description");
    incrementalDom.elementOpen("label");
    incrementalDom.text("Description:");
    incrementalDom.elementClose("label");
    incrementalDom.elementOpen("input", "6bf5cac1-8f46-4ff4-bb29-60dc37abdda8", hoisted5$7, "name", ctrl.skill.description, "value", ctrl.skill.description, "onchange", function ($event) {
      var $element = this;
      ctrl.skill.description = this.value;
    });
    incrementalDom.elementClose("input");
    incrementalDom.elementClose("skill-editor-description");
    incrementalDom.elementOpen("skill-editor-category");
    incrementalDom.elementOpen("label");
    incrementalDom.text("Category:");
    incrementalDom.elementClose("label");
    incrementalDom.elementOpen("select", "c50b72a0-41d4-4013-875f-9b70abb4bea3", hoisted6$7, "onchange", function ($event) {
      var $element = this;
      ctrl.skill.category = this.value;
    });
    incrementalDom.elementOpen("option", "40f53d5d-1e84-4b9b-8bc3-ba38b2b22fb4", hoisted7$6);
    incrementalDom.text("Select");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "6a646220-9dcd-4c28-8916-879f9c4cdac3", hoisted8$5, "selected", ctrl.skill.category === 'booklet' ? true : null);
    incrementalDom.text("Booklet");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "67702a2b-5174-4ce0-895b-e32eb2f26525", hoisted9$4, "selected", ctrl.skill.category === 'find' ? true : null);
    incrementalDom.text("Find");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "1147348a-4919-4aba-9e02-a163cf80f322", hoisted10$3, "selected", ctrl.skill.category === 'take' ? true : null);
    incrementalDom.text("Take");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "449cedeb-d5b0-4c3a-8d1d-f44e62a10d50", hoisted11$2, "selected", ctrl.skill.category === 'indexing' ? true : null);
    incrementalDom.text("Indexing");
    incrementalDom.elementClose("option");
    incrementalDom.elementClose("select");
    incrementalDom.elementClose("skill-editor-category");
    incrementalDom.elementOpen("skill-editor-multiplicity");
    incrementalDom.elementOpen("label");
    incrementalDom.text("Allow Multiple:");
    incrementalDom.elementClose("label");
    incrementalDom.elementOpen("input", "3b223f8c-fba8-45a0-a1e9-4bde8a754efd", hoisted12$2, "checked", ctrl.skill.multiple, "onchange", function ($event) {
      var $element = this;
      ctrl.skill.multiple = this.checked;
    });
    incrementalDom.elementClose("input");
    incrementalDom.elementClose("skill-editor-multiplicity");
    incrementalDom.elementOpen("skill-editor-instructions");
    incrementalDom.elementOpen("label");
    incrementalDom.text("Instructions:");
    incrementalDom.elementClose("label");
    incrementalDom.elementOpen("div", "bc696bde-031a-4ce1-a9cb-9a17e9a471e7", hoisted13$1);
    incrementalDom.elementClose("div");
    incrementalDom.elementClose("skill-editor-instructions");
    incrementalDom.elementOpen("skill-editor-actions");
    incrementalDom.elementOpen("button", "8b531d80-7569-4e9d-85d5-53bc8785a418", hoisted14$1, "onclick", function ($event) {
      var $element = this;
      ctrl.saveSkill();
    });
    incrementalDom.text("Save");
    incrementalDom.elementClose("button");
    incrementalDom.elementOpen("button", "9dbee371-6d0e-4074-a87e-1f833d540961", hoisted15$1, "onclick", function ($event) {
      var $element = this;
      ctrl.cancelEdit();
    });
    incrementalDom.text("Cancel");
    incrementalDom.elementClose("button");
    incrementalDom.elementClose("skill-editor-actions");
    incrementalDom.elementClose("form");
  }
  if (!ctrl.skillEditor) {
    __target$12 = ctrl.viewSkills;
    if (__target$12) {
      (__target$12.forEach ? __target$12 : Object.keys(__target$12)).forEach(function ($value, $item, $target) {
        var skill = $value;
        var $key = "20ab556f-1d50-4d05-9fac-c743f90d06dd_" + $item;
        incrementalDom.elementOpen("skill-item", $key, null, "class", $item % 2 ? 'odd' : 'even');
        incrementalDom.elementOpen("div", "d164fee3-4bfb-42d7-98c4-4966a92fe06d_" + $key, hoisted16$1);
        incrementalDom.elementOpen("div", "7bc613af-b397-4b42-b8be-bd3bf91fd582_" + $key, hoisted17$1);
        incrementalDom.text("" + skill.title + "");
        incrementalDom.elementClose("div");
        incrementalDom.elementOpen("div", "851571a2-7092-4a5e-afbc-8908d5ae1062_" + $key, hoisted18$1);
        incrementalDom.text("" + skill.description + "");
        incrementalDom.elementClose("div");
        incrementalDom.elementClose("div");
        incrementalDom.elementOpen("div", "588990e9-3f20-4bd5-899a-c5c08bf02fd8_" + $key, hoisted19$1);
        incrementalDom.elementOpen("button", "ebcdde3b-fca9-4404-af73-cbf43dbfb105_" + $key, hoisted20$1, "disabled", ctrl.skillFormValid, "onclick", function ($event) {
          var $element = this;
          ctrl.editSkill($value);
        });
        incrementalDom.text("Edit");
        incrementalDom.elementClose("button");
        incrementalDom.elementClose("div");
        incrementalDom.elementClose("skill-item");
      }, this);
    }
  }
  incrementalDom.elementClose("skills-list");
}

var SkillsAdmin = function (_HTMLElement) {
  inherits(SkillsAdmin, _HTMLElement);

  function SkillsAdmin() {
    classCallCheck(this, SkillsAdmin);

    var _this = possibleConstructorReturn(this, (SkillsAdmin.__proto__ || Object.getPrototypeOf(SkillsAdmin)).call(this));

    _this.db = firebase.database();
    document.addEventListener('userChanged', function (evt) {
      var user$$1 = evt.detail;
      if (!user$$1.admin) router.navigate('/home');
    });
    return _this;
  }

  createClass(SkillsAdmin, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {
      if (nVal && nVal !== '' && nVal !== oVal) {
        this._updateView();
      }
    }
  }, {
    key: 'cancelEdit',
    value: function cancelEdit() {
      this.skill = null;
      this.skillEditor = false;
      this.viewSkills = JSON.parse(JSON.stringify(this.skills));
      this._updateView();
    }
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      var _this2 = this;

      this.innerHTML = '<style>' + css$12 + '</style><container></container>';
      this.element = this.querySelector('container');
      this.db.ref('/skills/').on('value', function (snapshot) {
        _this2.skills = JSON.parse(JSON.stringify(snapshot.val()));
        _this2.viewSkills = JSON.parse(JSON.stringify(snapshot.val()));
        _this2._updateView();
      });
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: 'editSkill',
    value: function editSkill(skill) {
      this.skill = skill;
      this.skillEditor = true;
      this._updateView();
      this.quill = new Quill('#skill-editor', { theme: 'snow' });
      this.quill.setContents(this.skill.delta);
    }
  }, {
    key: 'filterSkills',
    value: function filterSkills(val) {
      var str = val ? val.toLowerCase() : null;
      if (!str || str === '') this.viewSkills = JSON.parse(JSON.stringify(this.skills));else {
        this.viewSkills = this.skills.filter(function (skill) {
          return skill.title.toLowerCase().indexOf(str) !== -1 || skill.description.toLowerCase().indexOf(str) !== -1 || skill.category.toLowerCase().indexOf(str) !== -1;
        });
      }
      this._updateView();
    }
  }, {
    key: 'saveSkill',
    value: function saveSkill() {
      var _this3 = this;

      this.skill.delta = this.quill.getContents();
      this.skill.html = this.element.querySelector(".ql-editor").innerHTML;
      this.skill.achievements = this.skill.achievements || 0;
      this.db.ref('/skills/' + this.skill.id).set(this.skill).then(function () {
        return _this3.cancelEdit();
      });
    }
  }, {
    key: '_updateView',
    value: function _updateView() {
      if (this.element) incrementalDom.patch(this.element, render$12, this);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [];
    }
  }]);
  return SkillsAdmin;
}(HTMLElement);

customElements.define('skills-admin', SkillsAdmin);

var css$13 = ":host {\n  font-size: 1.5em;\n  line-height: 1.6;\n  font-weight: 400;\n  font-family: 'Roboto', Helvetica, sans-serif;\n  color: #222;\n}\n.button,\nbutton,\ninput[type=\"submit\"],\ninput[type=\"reset\"],\ninput[type=\"button\"] {\n  display: inline-block;\n  height: 38px;\n  padding: 0 30px;\n  color: #555;\n  text-align: center;\n  font-size: 11px;\n  font-weight: 600;\n  line-height: 38px;\n  letter-spacing: .1rem;\n  text-transform: uppercase;\n  text-decoration: none;\n  white-space: nowrap;\n  background-color: transparent;\n  border: 1px solid #bbb;\n  cursor: pointer;\n  box-sizing: border-box;\n}\n.button:hover,\nbutton:hover,\ninput[type=\"submit\"]:hover,\ninput[type=\"reset\"]:hover,\ninput[type=\"button\"]:hover,\n.button:focus,\nbutton:focus,\ninput[type=\"submit\"]:focus,\ninput[type=\"reset\"]:focus,\ninput[type=\"button\"]:focus {\n  color: #333;\n  border-color: #888;\n  outline: 0;\n}\n.button.primary,\nbutton.primary,\ninput[type=\"submit\"].primary,\ninput[type=\"reset\"].primary,\ninput[type=\"button\"].primary {\n  color: #FFF;\n  background-color: #33C3F0;\n  border-color: #33C3F0;\n}\n.button.primary:hover,\nbutton.primary:hover,\ninput[type=\"submit\"].primary:hover,\ninput[type=\"reset\"].primary:hover,\ninput[type=\"button\"].primary:hover,\n.button.primary:focus,\nbutton.primary:focus,\ninput[type=\"submit\"].primary:focus,\ninput[type=\"reset\"].primary:focus,\ninput[type=\"button\"].primary:focus {\n  color: #FFF;\n  background-color: #1EAEDB;\n  border-color: #1EAEDB;\n}\ninput[type=\"email\"],\ninput[type=\"number\"],\ninput[type=\"search\"],\ninput[type=\"text\"],\ninput[type=\"tel\"],\ninput[type=\"url\"],\ninput[type=\"password\"],\ntextarea,\nselect {\n  height: 38px;\n  padding: 6px 10px;\n  /* The 6px vertically centers text on FF, ignored by Webkit */\n  background-color: #fff;\n  border: 1px solid #D1D1D1;\n  box-shadow: none;\n  box-sizing: border-box;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  font-size: .8em;\n}\ninput[type=\"email\"]:focus,\ninput[type=\"number\"]:focus,\ninput[type=\"search\"]:focus,\ninput[type=\"text\"]:focus,\ninput[type=\"tel\"]:focus,\ninput[type=\"url\"]:focus,\ninput[type=\"password\"]:focus,\ntextarea:focus,\nselect:focus {\n  border: 1px solid #33C3F0;\n  outline: 0;\n}\ntextarea {\n  min-height: 65px;\n  padding-top: 6px;\n  padding-bottom: 6px;\n}\nlabel,\nlegend {\n  display: block;\n  margin-bottom: .5rem;\n  font-weight: 600;\n}\nfieldset {\n  padding: 0;\n  border-width: 0;\n}\ninput[type=\"checkbox\"],\ninput[type=\"radio\"] {\n  display: inline;\n}\nlabel > .label-body {\n  display: inline-block;\n  margin-left: .5rem;\n  font-weight: normal;\n}\n:host {\n  font-size: 1em;\n}\nusers-search {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 1vh;\n}\nusers-search input {\n  flex: 6;\n}\nusers-search button {\n  flex: 1;\n  margin-left: 8px;\n}\nusers-list {\n  display: flex;\n  flex-direction: column;\n}\nuser-item {\n  display: flex;\n  padding: 1vh 1vw;\n}\nuser-item .info {\n  display: flex;\n  flex: 6;\n  flex-direction: column;\n}\nuser-item .info .title {\n  font-size: 17px;\n  font-weight: bold;\n}\nuser-item .info .description {\n  font-size: 16px;\n}\nuser-item .info .category {\n  font-size: 15px;\n}\nuser-item .action {\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n}\nuser-item .action button {\n  margin-right: 2vw;\n}\nuser-item.even {\n  background-color: #efefef;\n}\nform[name='user'] {\n  display: flex;\n  flex-direction: column;\n}\nform[name='user'] > * {\n  display: flex;\n  justify-content: space-between;\n}\nform[name='user'] > * label {\n  font-size: 18px;\n  flex: 1.25;\n}\nform[name='user'] > * input,\nform[name='user'] > * select {\n  flex: 3;\n  margin-bottom: 1vh;\n}\nform[name='user'] skill-editor-instructions {\n  display: flex;\n  flex-direction: column;\n}\nform[name='user'] skill-editor-instructions label {\n  font-size: 18px;\n}\nform[name='user'] skill-editor-instructions #skill-editor {\n  height: 40vh;\n  margin-bottom: 1vh;\n}\nform[name='user'] button[name='cancel'] {\n  margin: 0 1vw;\n}\n.bold {\n  font-weight: bold;\n}\nuser-editor-actions {\n  justify-content: flex-start !important;\n}\n";

var hoisted1$11 = ["type", "text", "name", "usersearch", "placeholder", "Search ..."];
var hoisted2$9 = ["name", "user"];
var hoisted3$8 = ["type", "text", "required", ""];
var hoisted4$8 = ["type", "text", "required", ""];
var hoisted5$8 = ["type", "text", "disabled", "true"];
var hoisted6$8 = ["name", "group", "required", ""];
var hoisted7$7 = ["value", ""];
var hoisted8$6 = ["value", "be"];
var hoisted9$5 = ["value", "dn"];
var hoisted10$4 = ["value", "eq"];
var hoisted11$3 = ["value", "hp"];
var hoisted12$3 = ["value", "ll"];
var hoisted13$2 = ["value", "mm"];
var hoisted14$2 = ["value", "pr"];
var hoisted15$2 = ["value", "py"];
var hoisted16$2 = ["value", "rs"];
var hoisted17$2 = ["value", "tr"];
var hoisted18$2 = ["type", "checkbox"];
var hoisted19$2 = ["type", "button", "name", "save", "class", "primary"];
var hoisted20$2 = ["type", "button", "name", "cancel"];
var hoisted21$1 = ["class", "info"];
var hoisted22$1 = ["class", "name bold"];
var hoisted23$1 = ["class", "display-name bold"];
var hoisted24$1 = ["class", "email"];
var hoisted25$1 = ["class", "group"];
var hoisted26$1 = ["class", "action"];
var hoisted27$1 = ["type", "button"];
var __target$13;

function render$13(ctrl) {
  if (!ctrl.userEditor) {
    incrementalDom.elementOpen("users-search");
    incrementalDom.elementOpen("input", "683745ec-9b12-4dad-9822-9f6bdeca9870", hoisted1$11, "onkeyup", function ($event) {
      var $element = this;
      ctrl.filterUsers(this.value);
    });
    incrementalDom.elementClose("input");
    incrementalDom.elementClose("users-search");
  }
  incrementalDom.elementOpen("users-list");
  if (ctrl.userEditor) {
    incrementalDom.elementOpen("form", "b21fcaeb-f0ea-4063-949e-9f3445786d1e", hoisted2$9);
    incrementalDom.elementOpen("user-editor-name");
    incrementalDom.elementOpen("label");
    incrementalDom.text("Certificate Name:");
    incrementalDom.elementClose("label");
    incrementalDom.elementOpen("input", "854332e1-e714-4d7d-9e8e-c4ef27196f49", hoisted3$8, "value", ctrl.user.name, "onchange", function ($event) {
      var $element = this;
      ctrl.user.name = this.value;
    });
    incrementalDom.elementClose("input");
    incrementalDom.elementClose("user-editor-name");
    incrementalDom.elementOpen("user-editor-display-name");
    incrementalDom.elementOpen("label");
    incrementalDom.text("Display Name:");
    incrementalDom.elementClose("label");
    incrementalDom.elementOpen("input", "771ff6a5-7a98-47fb-97c5-fa76a2f62c4a", hoisted4$8, "name", ctrl.user.displayName, "value", ctrl.user.displayName, "onchange", function ($event) {
      var $element = this;
      ctrl.user.displayName = this.value;
    });
    incrementalDom.elementClose("input");
    incrementalDom.elementClose("user-editor-display-name");
    incrementalDom.elementOpen("user-editor-email");
    incrementalDom.elementOpen("label");
    incrementalDom.text("Email:");
    incrementalDom.elementClose("label");
    incrementalDom.elementOpen("input", "7a2da402-1389-4a42-ba1e-879dfb667134", hoisted5$8, "name", ctrl.user.email, "value", ctrl.user.email, "onchange", function ($event) {
      var $element = this;
      ctrl.user.email = this.value;
    });
    incrementalDom.elementClose("input");
    incrementalDom.elementClose("user-editor-email");
    incrementalDom.elementOpen("user-editor-category");
    incrementalDom.elementOpen("label");
    incrementalDom.text("Organization:");
    incrementalDom.elementClose("label");
    incrementalDom.elementOpen("select", "d977f46c-e8db-4847-bff6-1d18a87803f2", hoisted6$8, "onchange", function ($event) {
      var $element = this;
      ctrl.user.group = this.value;
    });
    incrementalDom.elementOpen("option", "de3d455c-9f84-4695-bcb5-32eb2001b5ee", hoisted7$7);
    incrementalDom.text("Select");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "fcfa4a06-e70a-47fe-8408-7db33bc1c9aa", hoisted8$6, "selected", ctrl.user.group === 'be' ? true : null);
    incrementalDom.text("Beehive");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "13895361-4cf3-4fa6-aca1-8b457c37b240", hoisted9$5, "selected", ctrl.user.group === 'dn' ? true : null);
    incrementalDom.text("Deacon");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "815f4703-744c-41ae-932b-3730858b1997", hoisted10$4, "selected", ctrl.user.group === 'eq' ? true : null);
    incrementalDom.text("Elders");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "faf6aa82-241b-4c10-971f-6ecb55c58725", hoisted11$3, "selected", ctrl.user.group === 'hp' ? true : null);
    incrementalDom.text("High Priest");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "caf5388e-95bf-4e3e-88c5-3d454f47b920", hoisted12$3, "selected", ctrl.user.group === 'll' ? true : null);
    incrementalDom.text("Laurel");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "34c4041b-b5b8-447b-b0e0-f6f3b7fa1426", hoisted13$2, "selected", ctrl.user.group === 'mm' ? true : null);
    incrementalDom.text("Miamaid");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "cdee8070-ad8a-4c5c-a57d-5923353d3d9c", hoisted14$2, "selected", ctrl.user.group === 'pr' ? true : null);
    incrementalDom.text("Priest");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "b1d77e10-2b3b-49fd-b135-862e53fffe90", hoisted15$2, "selected", ctrl.user.group === 'py' ? true : null);
    incrementalDom.text("Primary");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "f0f012f9-054b-4a11-a896-44659785761c", hoisted16$2, "selected", ctrl.user.group === 'rs' ? true : null);
    incrementalDom.text("Relief Society");
    incrementalDom.elementClose("option");
    incrementalDom.elementOpen("option", "51935135-30e8-4833-b567-fb06478d88cd", hoisted17$2, "selected", ctrl.user.group === 'tr' ? true : null);
    incrementalDom.text("Teacher");
    incrementalDom.elementClose("option");
    incrementalDom.elementClose("select");
    incrementalDom.elementClose("user-editor-category");
    incrementalDom.elementOpen("user-admin");
    incrementalDom.elementOpen("label");
    incrementalDom.text("Admin:");
    incrementalDom.elementClose("label");
    incrementalDom.elementOpen("input", "7a22d075-0b86-4347-931e-bc5b5d2a9b57", hoisted18$2, "checked", ctrl.user.admin ? true : null, "onchange", function ($event) {
      var $element = this;
      ctrl.user.admin = this.checked;
    });
    incrementalDom.elementClose("input");
    incrementalDom.elementClose("user-admin");
    incrementalDom.elementOpen("user-editor-actions");
    incrementalDom.elementOpen("button", "5c8188eb-4684-424e-b8e2-8e0761182ffb", hoisted19$2, "onclick", function ($event) {
      var $element = this;
      ctrl.saveUser();
    });
    incrementalDom.text("Save");
    incrementalDom.elementClose("button");
    incrementalDom.elementOpen("button", "61254a15-7ffe-4cdc-8a75-c3baf882294f", hoisted20$2, "onclick", function ($event) {
      var $element = this;
      ctrl.cancelEdit();
    });
    incrementalDom.text("Cancel");
    incrementalDom.elementClose("button");
    incrementalDom.elementClose("user-editor-actions");
    incrementalDom.elementClose("form");
  }
  if (!ctrl.userEditor) {
    __target$13 = ctrl.viewUsers;
    if (__target$13) {
      (__target$13.forEach ? __target$13 : Object.keys(__target$13)).forEach(function ($value, $item, $target) {
        var user = $value;
        var $key = "29a0b1cc-f175-4b8a-87e4-41f3384334b7_" + $item;
        incrementalDom.elementOpen("user-item", $key, null, "class", $item % 2 ? 'odd' : 'even');
        incrementalDom.elementOpen("div", "381e54d1-f0de-4132-bef8-daf7cc7fe2fa_" + $key, hoisted21$1);
        if (user.name) {
          incrementalDom.elementOpen("div", "1d67c9f4-be6f-4598-b1ad-76c49b0377d6_" + $key, hoisted22$1);
          incrementalDom.text("" + user.name + "");
          incrementalDom.elementClose("div");
        }
        incrementalDom.elementOpen("div", "97bdc25c-1df0-4aa5-8bf6-4fa6eebc77f9_" + $key, hoisted23$1);
        incrementalDom.text("" + user.displayName + "");
        incrementalDom.elementClose("div");
        incrementalDom.elementOpen("div", "aba3cfe6-d7e4-438a-90f4-2a6732220f01_" + $key, hoisted24$1);
        incrementalDom.text("" + user.email + "");
        incrementalDom.elementClose("div");
        if (user.group) {
          incrementalDom.elementOpen("div", "dd2d5f47-184a-470f-ba90-31f7a2f48f67_" + $key, hoisted25$1);
          incrementalDom.text("" + ctrl.getGroupName(user) + "");
          incrementalDom.elementClose("div");
        }
        incrementalDom.elementClose("div");
        incrementalDom.elementOpen("div", "51162313-7c13-4dc2-bc45-8b34fb718cf6_" + $key, hoisted26$1);
        incrementalDom.elementOpen("button", "4773eb5b-eed7-48bc-b002-4f91eb35799d_" + $key, hoisted27$1, "disabled", ctrl.userFormValid, "onclick", function ($event) {
          var $element = this;
          ctrl.editUser($value);
        });
        incrementalDom.text("Edit");
        incrementalDom.elementClose("button");
        incrementalDom.elementClose("div");
        incrementalDom.elementClose("user-item");
      }, this);
    }
  }
  incrementalDom.elementClose("users-list");
}

var UsersAdmin = function (_HTMLElement) {
  inherits(UsersAdmin, _HTMLElement);

  function UsersAdmin() {
    classCallCheck(this, UsersAdmin);

    var _this = possibleConstructorReturn(this, (UsersAdmin.__proto__ || Object.getPrototypeOf(UsersAdmin)).call(this));

    _this.attachShadow({ mode: 'open' });
    _this.shadowRoot.innerHTML = '<style>' + css$13 + '</style><container></container>';
    _this.element = _this.shadowRoot.querySelector('container');
    _this.user = user;
    _this.model = {};
    _this.db = firebase.database();
    document.addEventListener('userChanged', function (evt) {
      var user$$1 = evt.detail;
      if (!user$$1.admin) router.navigate('/home');
    });
    return _this;
  }

  createClass(UsersAdmin, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {
      if (nVal && nVal !== '' && nVal !== oVal) {
        this._updateView();
      }
    }
  }, {
    key: 'cancelEdit',
    value: function cancelEdit() {
      this.skill = null;
      this.user = null;
      this.userId = null;
      this.userEditor = false;
      this.viewUsers = JSON.parse(JSON.stringify(this.users));
      this._updateView();
    }
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      var _this2 = this;

      this.db.ref('/users/').on('value', function (snapshot) {
        var obj = JSON.parse(JSON.stringify(snapshot.val()));
        var temp = [];
        Object.keys(obj).forEach(function (key) {
          var entry = obj[key];
          entry.id = key;
          temp.push(entry);
        });
        _this2.users = Object.assign([], temp);
        _this2.viewUsers = Object.assign([], temp);
        _this2._updateView();
      });
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: 'editUser',
    value: function editUser(user$$1) {
      this.user = user$$1;
      this.userEditor = true;
      this._updateView();
    }
  }, {
    key: 'filterUsers',
    value: function filterUsers(val) {
      var str = val ? val.toLowerCase() : null;

      this.viewUsers = this.users.filter(function (user$$1) {
        return user$$1.displayName && user$$1.displayName.toLowerCase().indexOf(str) !== -1 || user$$1.name && user$$1.name.toLowerCase().indexOf(str) !== -1 || user$$1.group && user$$1.group.toLowerCase().indexOf(str) !== -1 || user$$1.email && user$$1.email.toLowerCase().indexOf(str) !== -1;
      });

      if (!str || str === '') this.viewUsers = Object.assign([], this.users);

      this._updateView();
    }
  }, {
    key: 'getGroupName',
    value: function getGroupName(user$$1) {
      var group = user$$1.group;
      var groupName = void 0;
      switch (group) {
        case 'be':
          groupName = 'Beehive';break;
        case 'dn':
          groupName = 'Deacon';break;
        case 'eq':
          groupName = 'Elder';break;
        case 'hp':
          groupName = 'High Priest';break;
        case 'll':
          groupName = 'Laurel';break;
        case 'mm':
          groupName = 'Miamaid';break;
        case 'pr':
          groupName = 'Priest';break;
        case 'py':
          groupName = 'Primary';break;
        case 'rs':
          groupName = 'Relief Society';break;
        case 'tr':
          groupName = 'Teachter';break;
        default:
          groupName = null;
      }
      return groupName;
    }
  }, {
    key: 'saveUser',
    value: function saveUser() {
      var _this3 = this;

      var user$$1 = Object.assign({}, this.user);
      var userId = user$$1.id;
      delete user$$1.id;
      this.db.ref('/users/' + userId).set(user$$1).then(function () {
        return _this3.cancelEdit();
      });
    }
  }, {
    key: '_updateView',
    value: function _updateView() {
      if (this.element) incrementalDom.patch(this.element, render$13, this);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [];
    }
  }]);
  return UsersAdmin;
}(HTMLElement);

customElements.define('users-admin', UsersAdmin);

var SysAdmin = function (_HTMLElement) {
  inherits(SysAdmin, _HTMLElement);

  function SysAdmin() {
    classCallCheck(this, SysAdmin);

    var _this = possibleConstructorReturn(this, (SysAdmin.__proto__ || Object.getPrototypeOf(SysAdmin)).call(this));

    document.addEventListener('userChanged', function (evt) {
      var user$$1 = evt.detail;
      if (!user$$1.admin) router.navigate('/home');
    });

    router.add('/admin/users', function (req, evt, next) {
      if (_this.content) _this.content.innerHTML = '<users-admin></users-admin>';
    });
    router.add('/admin/skills', function (req, evt, next) {
      if (_this.content) _this.content.innerHTML = '<skills-admin></skills-admin>';
    });
    router.add('/admin/awards', function (req, evt, next) {
      if (_this.content) _this.content.innerHTML = '<awards-admin><awards-admin>';
    });
    router.add('/admin/assistance', function (req, evt, next) {
      if (_this.content) _this.content.innerHTML = '<assistance-admin></assistance-admin>';
    });
    router.add('/admin/reports', function (req, evt, next) {
      if (_this.content) _this.content.innerHTML = '<reports-admin></reports-admin>';
    });
    return _this;
  }

  createClass(SysAdmin, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oVal, nVal) {}
  }, {
    key: 'connectedCallback',
    value: function connectedCallback() {
      var state = router.state.value;
      this.innerHTML = '<style>' + css$8 + '</style><div id="sys-admin"></div>';
      this.element = this.querySelector('div#sys-admin');
      this.updateView();
      this.content = this.element.querySelector('content');
      this.tabs = this.element.querySelector('tabs');
      this.tabItems = this.tabs.querySelectorAll('tab');

      this.tabItems.forEach(function (tab) {
        var input = tab.querySelector('input');
        if (state.indexOf(input.value) !== -1) input.setAttribute('checked', true);
      });
      router.navigate(state);
    }
  }, {
    key: 'disconnectedCallback',
    value: function disconnectedCallback() {}
  }, {
    key: 'selectTab',
    value: function selectTab(tab) {
      router.navigate('/admin/' + tab);
    }
  }, {
    key: 'updateView',
    value: function updateView() {
      if (this.element) incrementalDom.patch(this.element, render$8, this);
    }
  }], [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [''];
    }
  }]);
  return SysAdmin;
}(HTMLElement);

customElements.define('sys-admin', SysAdmin);

function auth(req, event, next) {
  req.user = user;
  return next();
}

var router = new Router();

var AppRouter = function (_HTMLElement) {
  inherits(AppRouter, _HTMLElement);

  function AppRouter() {
    classCallCheck(this, AppRouter);

    var _this = possibleConstructorReturn(this, (AppRouter.__proto__ || Object.getPrototypeOf(AppRouter)).call(this));

    router.add('/', function (req, evt, next) {
      router.navigate('/home');
    });

    router.add('/home', auth, function (req, evt, next) {
      if (req.user.authenticated) router.navigate('/home/authenticated');else _this.innerHTML = '<home-view></home-view>';
    });

    router.add('/home/authenticated', auth, function (req, evt, next) {
      _this.innerHTML = '<home-authenticated></home-authenticated>';
    });

    router.add('/login', function (req, evt, next) {
      _this.innerHTML = '<login-view></login-view>';
    });

    router.add('/logout', auth, function (req, evt, next) {
      req.user.logout();
    });

    router.add('/help', function (req, evt, next) {
      router.navigate('/not-found');
    });

    router.add('/admin', function (req, evt, next) {
      router.navigate('/admin/users');
    });

    router.add('/admin/*', auth, function (req, evt, next) {
      if (req.user.initialized && !req.user.admin) router.navigate('/home');else {
        var sysAdmin = /\<sys-admin\>/.test(_this.innerHTML);
        if (!sysAdmin) _this.innerHTML = '<sys-admin></sys-admin>';
      }
    });

    router.add('/not-found', function (req, evt, next) {
      _this.innerHTML = '<not-found></not-found>';
    });

    router.add('/*', function (req, evt, next) {
      if (!evt.parent()) router.navigate('/not-found');
    });

    return _this;
  }

  createClass(AppRouter, null, [{
    key: 'observedAttributes',
    get: function get$$1() {
      return [''];
    }
  }]);
  return AppRouter;
}(HTMLElement);

customElements.define('app-router', AppRouter);

exports.AppRouter = AppRouter;
exports.router = router;

}((this.M7Temple = this.M7Temple || {}),IncrementalDOM));
